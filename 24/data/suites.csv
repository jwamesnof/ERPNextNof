"DESCRIPTION","DURATION IN MS","NAME","PARENT SUITE","START TIME","STATUS","STOP TIME","SUB SUITE","SUITE","TEST CLASS","TEST METHOD"
"Test 500 on unexpected exception.","4","test_get_stock_unexpected_exception","tests.api","Fri Feb 06 10:21:35 UTC 2026","passed","Fri Feb 06 10:21:35 UTC 2026","TestItemStockEndpoint","test_items_endpoint","",""
"Test 404 error response format.","2","test_404_not_found_format","tests.unit","Fri Feb 06 10:21:33 UTC 2026","passed","Fri Feb 06 10:21:33 UTC 2026","TestErrorResponseFormats","test_main","",""
"Sunday through Thursday should be working days.","1","test_is_working_day_sunday_to_thursday","tests.unit","Fri Feb 06 10:21:32 UTC 2026","passed","Fri Feb 06 10:21:32 UTC 2026","TestCalendarUtilities","test_calendar_workweek","",""
"Test validation on procurement suggest endpoint.","23","test_procurement_suggest_validation","tests.api","Fri Feb 06 10:21:35 UTC 2026","passed","Fri Feb 06 10:21:35 UTC 2026","TestProcurementSuggestEndpoint","test_endpoints","",""
"Test: STRICT_FAIL mode when promise <= desired_date (succeeds).","0","test_strict_fail_on_time","tests.unit","Fri Feb 06 10:21:32 UTC 2026","passed","Fri Feb 06 10:21:32 UTC 2026","TestDesiredDateHandling","test_desired_date","",""
"If today is Friday, base_date should be Sunday when no_weekends=True.","15","test_base_date_friday_moves_to_sunday","tests.unit","Fri Feb 06 10:21:32 UTC 2026","passed","Fri Feb 06 10:21:32 UTC 2026","TestPromiseCalculationWithCalendar","test_calendar_workweek","",""
"Test applying promise with comment only.","1","test_apply_promise_with_comment_only","tests.unit","Fri Feb 06 10:21:32 UTC 2026","passed","Fri Feb 06 10:21:32 UTC 2026","TestApplyServiceSuccessPath","test_apply_service","",""
"Test: Warehouse-specific processing lead time overrides default.","1","test_processing_lead_time_warehouse_override","tests.unit","Fri Feb 06 10:21:33 UTC 2026","passed","Fri Feb 06 10:21:33 UTC 2026","TestProcessingLeadTime","test_processing_lead_time","",""
"Test that ERPNext API credentials exist.","0","test_settings_api_key_required","tests.unit","Fri Feb 06 10:21:32 UTC 2026","passed","Fri Feb 06 10:21:32 UTC 2026","TestSettingsConfiguration","test_config","",""
"Finished Goods warehouses should be NEEDS_PROCESSING.","0","test_needs_processing_warehouses","tests.unit","Fri Feb 06 10:21:33 UTC 2026","passed","Fri Feb 06 10:21:33 UTC 2026","TestWarehouseClassification","test_warehouse_handling","",""
"Test generic Exception handling in calculate_promise.","27","test_calculate_promise_generic_exception","tests.api","Fri Feb 06 10:21:35 UTC 2026","passed","Fri Feb 06 10:21:35 UTC 2026","TestOTPEndpointExceptionHandlers","test_endpoints","",""
"Test that 500 error raises ERPNextClientError.","2","test_handles_500_server_error","tests.unit","Fri Feb 06 10:21:32 UTC 2026","passed","Fri Feb 06 10:21:32 UTC 2026","TestERPNextClientHTTPErrors","test_erpnext_client","",""
"Test health check when stock balance check raises exception.","4","test_health_exception_during_stock_balance_check","tests.api","Fri Feb 06 10:21:35 UTC 2026","passed","Fri Feb 06 10:21:35 UTC 2026","TestHealthEndpointMockSupply","test_endpoints","",""
"Test health check when mock supply is enabled.","4","test_health_with_mock_supply_enabled","tests.api","Fri Feb 06 10:21:35 UTC 2026","passed","Fri Feb 06 10:21:35 UTC 2026","TestHealthEndpointMockSupply","test_endpoints","",""
"Test that GET /otp/sales-orders/{id} endpoint is registered and not 404.","5","test_sales_order_details_endpoint_exists_and_not_404","tests.api","Fri Feb 06 10:21:35 UTC 2026","passed","Fri Feb 06 10:21:35 UTC 2026","","test_sales_order_details_endpoint","",""
"Test that settings loads with default values.","0","test_settings_loads_defaults","tests.unit","Fri Feb 06 10:21:32 UTC 2026","passed","Fri Feb 06 10:21:32 UTC 2026","TestSettingsConfiguration","test_config","",""
"Verify endpoint appears in OpenAPI schema.","2","test_sales_orders_is_in_openapi","tests.api","Fri Feb 06 10:21:36 UTC 2026","passed","Fri Feb 06 10:21:36 UTC 2026","","test_sales_orders_endpoint","",""
"Test that context manager properly enters and exits.","1","test_context_manager_enter_exit","tests.unit","Fri Feb 06 10:21:32 UTC 2026","passed","Fri Feb 06 10:21:32 UTC 2026","TestERPNextClientContextManager","test_erpnext_client","",""
"Test handling of decimal quantity values.","5","test_get_stock_decimal_values","tests.api","Fri Feb 06 10:21:35 UTC 2026","passed","Fri Feb 06 10:21:35 UTC 2026","TestItemStockEndpoint","test_items_endpoint","",""
"Test that health check version matches app version.","4","test_health_check_version_consistency","tests.unit","Fri Feb 06 10:21:33 UTC 2026","passed","Fri Feb 06 10:21:33 UTC 2026","TestHealthCheckResponseModel","test_main","",""
"Test that custom field failure is handled gracefully.","2","test_custom_field_failure_handled_gracefully","tests.unit","Fri Feb 06 10:21:32 UTC 2026","passed","Fri Feb 06 10:21:32 UTC 2026","TestApplyServiceErrorHandling","test_apply_service","",""
"Test: Item override has highest priority in hierarchy.","0","test_processing_lead_time_hierarchy_item_beats_all","tests.unit","Fri Feb 06 10:21:33 UTC 2026","passed","Fri Feb 06 10:21:33 UTC 2026","TestProcessingLeadTime","test_processing_lead_time","",""
"Test that unexpected exceptions are propagated (or handled if not wrapped).","1","test_get_available_stock_exception_handled","tests.unit","Fri Feb 06 10:21:33 UTC 2026","passed","Fri Feb 06 10:21:33 UTC 2026","TestStockServiceGetAvailableStock","test_stock_service","",""
"Test successful stock retrieval.","1","test_get_available_stock_success","tests.unit","Fri Feb 06 10:21:33 UTC 2026","passed","Fri Feb 06 10:21:33 UTC 2026","TestStockServiceGetAvailableStock","test_stock_service","",""
"Test that OpenAPI schema is available.","117","test_openapi_schema_available","tests.unit","Fri Feb 06 10:21:32 UTC 2026","passed","Fri Feb 06 10:21:33 UTC 2026","TestAppSetup","test_main","",""
"Test scrap and reject warehouses are NOT_AVAILABLE.","0","test_scrap_reject_pattern","tests.unit","Fri Feb 06 10:21:33 UTC 2026","passed","Fri Feb 06 10:21:33 UTC 2026","TestWarehouseClassification","test_warehouse_handling","",""
"Test: Insufficient supply → LOW confidence, has shortage.","0","test_promise_shortage","tests.unit","Fri Feb 06 10:21:33 UTC 2026","passed","Fri Feb 06 10:21:33 UTC 2026","TestPromiseService","test_promise_service","",""
"Test that raw data is returned when not wrapped in 'data' field.","2","test_returns_raw_data_when_no_wrapper","tests.unit","Fri Feb 06 10:21:32 UTC 2026","passed","Fri Feb 06 10:21:32 UTC 2026","TestERPNextClientSuccessfulResponses","test_erpnext_client","",""
"Test health check returns healthy when ERPNext is connected.","6","test_health_check_success_when_erpnext_connected","tests.unit","Fri Feb 06 10:21:33 UTC 2026","passed","Fri Feb 06 10:21:33 UTC 2026","TestHealthCheckEndpoint","test_main","",""
"Test PO response when response is not a list (handles gracefully).","2","test_incoming_po_non_list_response_handled","tests.unit","Fri Feb 06 10:21:32 UTC 2026","passed","Fri Feb 06 10:21:32 UTC 2026","TestERPNextClientPurchaseOrders","test_erpnext_client","",""
"Test that quantity values are converted to float.","4","test_get_stock_response_type_conversion","tests.api","Fri Feb 06 10:21:35 UTC 2026","passed","Fri Feb 06 10:21:35 UTC 2026","TestItemStockEndpoint","test_items_endpoint","",""
"Stock in Stores should be available immediately.","0","test_sellable_warehouse_available_immediately","tests.unit","Fri Feb 06 10:21:33 UTC 2026","passed","Fri Feb 06 10:21:33 UTC 2026","TestPromiseCalculationWithWarehouses","test_warehouse_handling","",""
"Test generic Exception handling in apply_promise.","25","test_apply_promise_generic_exception","tests.api","Fri Feb 06 10:21:35 UTC 2026","passed","Fri Feb 06 10:21:35 UTC 2026","TestOTPEndpointExceptionHandlers","test_endpoints","",""
"Test material request creation with empty items list.","1","test_empty_items_list_material_request","tests.unit","Fri Feb 06 10:21:32 UTC 2026","passed","Fri Feb 06 10:21:32 UTC 2026","TestApplyServiceEdgeCases","test_apply_service","",""
"Test that ERPNext errors are handled.","1","test_get_available_stock_erpnext_error_handled","tests.unit","Fri Feb 06 10:21:33 UTC 2026","passed","Fri Feb 06 10:21:33 UTC 2026","TestStockServiceGetAvailableStock","test_stock_service","",""
"Test sales order list with direct list response.","2","test_sales_order_list_direct_response","tests.unit","Fri Feb 06 10:21:32 UTC 2026","passed","Fri Feb 06 10:21:32 UTC 2026","TestERPNextClientSalesOrderList","test_erpnext_client","",""
"Test that ERPNext 404 errors are mapped to HTTP 404.","4","test_404_error_mapped_correctly","tests.api","Fri Feb 06 10:21:35 UTC 2026","passed","Fri Feb 06 10:21:35 UTC 2026","TestERPNextErrorMapping","test_endpoints","",""
"Test generic exception handling in get_sales_order_detail.","5","test_get_sales_order_detail_generic_exception","tests.api","Fri Feb 06 10:21:35 UTC 2026","passed","Fri Feb 06 10:21:35 UTC 2026","TestOTPEndpointExceptionHandlers","test_endpoints","",""
"Test that unhandled exceptions return 500 status.","55","test_global_exception_handler_returns_500","tests.unit","Fri Feb 06 10:21:33 UTC 2026","passed","Fri Feb 06 10:21:33 UTC 2026","TestGlobalExceptionHandler","test_main","",""
"Test: LATEST_ACCEPTABLE mode when promise <= desired_date (on time).","1","test_latest_acceptable_on_time","tests.unit","Fri Feb 06 10:21:32 UTC 2026","passed","Fri Feb 06 10:21:32 UTC 2026","TestDesiredDateHandling","test_desired_date","",""
"Test that 502 Bad Gateway error raises ERPNextClientError.","2","test_handles_502_bad_gateway_error","tests.unit","Fri Feb 06 10:21:32 UTC 2026","passed","Fri Feb 06 10:21:32 UTC 2026","TestERPNextClientHTTPErrors","test_erpnext_client","",""
"Test that negative reserved qty doesn't cause issues.","1","test_negative_reserved_qty_handled","tests.unit","Fri Feb 06 10:21:33 UTC 2026","passed","Fri Feb 06 10:21:33 UTC 2026","TestStockServiceEdgeCases","test_stock_service","",""
"Test that None rules defaults to PromiseRules().","1","test_calculate_promise_with_none_rules","tests.unit","Fri Feb 06 10:21:33 UTC 2026","passed","Fri Feb 06 10:21:33 UTC 2026","TestPromiseServiceEdgeCases","test_promise_service","",""
"Test 405 method not allowed response format.","4","test_405_method_not_allowed_format","tests.unit","Fri Feb 06 10:21:33 UTC 2026","passed","Fri Feb 06 10:21:33 UTC 2026","TestErrorResponseFormats","test_main","",""
"Test that limit is clamped to maximum of 100.","4","test_sales_orders_limit_clamped_to_100","tests.api","Fri Feb 06 10:21:35 UTC 2026","passed","Fri Feb 06 10:21:35 UTC 2026","TestSalesOrderListFilters","test_endpoints","",""
"Test applying promise with different confidence levels.","2","test_apply_promise_with_all_confidence_levels","tests.unit","Fri Feb 06 10:21:32 UTC 2026","passed","Fri Feb 06 10:21:32 UTC 2026","TestApplyServiceEdgeCases","test_apply_service","",""
"Test that permission errors are flagged with access_error.","1","test_get_incoming_supply_permission_error_handled","tests.unit","Fri Feb 06 10:21:33 UTC 2026","passed","Fri Feb 06 10:21:33 UTC 2026","TestStockServiceGetIncomingSupply","test_stock_service","",""
"Test that invalid JSON raises ERPNextClientError.","2","test_handles_invalid_json_response","tests.unit","Fri Feb 06 10:21:32 UTC 2026","passed","Fri Feb 06 10:21:32 UTC 2026","TestERPNextClientMalformedResponses","test_erpnext_client","",""
"Test ERPNext connection configuration exists.","0","test_settings_erpnext_connection_config","tests.unit","Fri Feb 06 10:21:32 UTC 2026","passed","Fri Feb 06 10:21:32 UTC 2026","TestSettingsConfiguration","test_config","",""
"Test 502 when ERPNext returns other error.","4","test_get_stock_erpnext_502_error","tests.api","Fri Feb 06 10:21:35 UTC 2026","passed","Fri Feb 06 10:21:35 UTC 2026","TestItemStockEndpoint","test_items_endpoint","",""
"Test that important string fields are not empty.","0","test_settings_string_fields_not_empty","tests.unit","Fri Feb 06 10:21:32 UTC 2026","passed","Fri Feb 06 10:21:32 UTC 2026","TestSettingsPydanticValidation","test_config","",""
"Expand group warehouse with no children defined.","0","test_expand_group_no_children","tests.unit","Fri Feb 06 10:21:33 UTC 2026","passed","Fri Feb 06 10:21:33 UTC 2026","TestWarehouseGroupExpansion","test_warehouse_handling","",""
"Test stock retrieval for same item in different warehouses.","8","test_get_stock_multiple_warehouses","tests.api","Fri Feb 06 10:21:35 UTC 2026","passed","Fri Feb 06 10:21:35 UTC 2026","TestItemStockEndpoint","test_items_endpoint","",""
"Test: Desired date set and promise meets it → on_time=True.","1","test_desired_date_on_time","tests.unit","Fri Feb 06 10:21:33 UTC 2026","passed","Fri Feb 06 10:21:33 UTC 2026","TestPromiseService","test_promise_service","",""
"next_working_day from Saturday should return Sunday.","1","test_next_working_day_from_saturday","tests.unit","Fri Feb 06 10:21:32 UTC 2026","passed","Fri Feb 06 10:21:32 UTC 2026","TestCalendarUtilities","test_calendar_workweek","",""
"Test that item warehouse is used as fallback.","4","test_sales_order_details_uses_item_warehouse_fallback","tests.api","Fri Feb 06 10:21:35 UTC 2026","passed","Fri Feb 06 10:21:35 UTC 2026","TestSalesOrderDetailsEndpointDefaultsHandling","test_endpoints","",""
"Test that startup event logs environment information.","2","test_startup_event_logs_environment","tests.unit","Fri Feb 06 10:21:33 UTC 2026","passed","Fri Feb 06 10:21:33 UTC 2026","TestStartupAndShutdownEvents","test_main","",""
"Test 422 when item_code parameter is missing.","2","test_get_stock_missing_item_code","tests.api","Fri Feb 06 10:21:35 UTC 2026","passed","Fri Feb 06 10:21:35 UTC 2026","TestItemStockEndpoint","test_items_endpoint","",""
"Test response with negative available stock (over-reserved).","4","test_get_stock_negative_available","tests.api","Fri Feb 06 10:21:35 UTC 2026","passed","Fri Feb 06 10:21:35 UTC 2026","TestItemStockEndpoint","test_items_endpoint","",""
"Test that redoc endpoint is available.","2","test_redoc_endpoint_available","tests.unit","Fri Feb 06 10:21:32 UTC 2026","passed","Fri Feb 06 10:21:32 UTC 2026","TestAppSetup","test_main","",""
"Test that deployment environment can be configured.","0","test_settings_deployment_environments","tests.unit","Fri Feb 06 10:21:32 UTC 2026","passed","Fri Feb 06 10:21:32 UTC 2026","TestSettingsConfiguration","test_config","",""
"Test that ERPNext 404 maps to 404 response.","5","test_sales_order_details_returns_404_on_missing","tests.api","Fri Feb 06 10:21:35 UTC 2026","passed","Fri Feb 06 10:21:35 UTC 2026","","test_sales_order_details_endpoint","",""
"Test: IN_TRANSIT warehouse stock is ignored.","1","test_warehouse_in_transit_ignored","tests.unit","Fri Feb 06 10:21:33 UTC 2026","passed","Fri Feb 06 10:21:33 UTC 2026","TestPromiseService","test_promise_service","",""
"Test successful stock retrieval for valid item + warehouse.","4","test_get_stock_success","tests.api","Fri Feb 06 10:21:35 UTC 2026","passed","Fri Feb 06 10:21:35 UTC 2026","TestItemStockEndpoint","test_items_endpoint","",""
"Test sales order list when wrapped in 'data' field.","2","test_sales_order_list_with_data_wrapper","tests.unit","Fri Feb 06 10:21:32 UTC 2026","passed","Fri Feb 06 10:21:32 UTC 2026","TestERPNextClientSalesOrderList","test_erpnext_client","",""
"Test: When no desired_date, on_time should be None.","0","test_no_desired_date_provided","tests.unit","Fri Feb 06 10:21:32 UTC 2026","passed","Fri Feb 06 10:21:32 UTC 2026","TestDesiredDateHandling","test_desired_date","",""
"Promise date should never land on Friday or Saturday.","0","test_promise_date_never_weekend","tests.unit","Fri Feb 06 10:21:33 UTC 2026","passed","Fri Feb 06 10:21:33 UTC 2026","TestPromiseCalculationWithWarehouses","test_warehouse_handling","",""
"
    Test that GET /otp/sales-orders endpoint is registered and not 404.
    Verifies endpoint is properly exposed in FastAPI.
    ","4","test_sales_orders_endpoint_exists_and_not_404","tests.api","Fri Feb 06 10:21:35 UTC 2026","passed","Fri Feb 06 10:21:35 UTC 2026","","test_sales_orders_endpoint","",""
"All Warehouses should be GROUP.","0","test_group_warehouses","tests.unit","Fri Feb 06 10:21:33 UTC 2026","passed","Fri Feb 06 10:21:33 UTC 2026","TestWarehouseClassification","test_warehouse_handling","",""
"Stock in Goods In Transit should NOT be available immediately.","0","test_in_transit_stock_not_available_now","tests.unit","Fri Feb 06 10:21:33 UTC 2026","passed","Fri Feb 06 10:21:33 UTC 2026","TestPromiseCalculationWithWarehouses","test_warehouse_handling","",""
"Test that /otp/sales-orders/{sales_order_id} endpoint is registered.","3","test_sales_order_details_endpoint_registered","tests.unit","Fri Feb 06 10:21:33 UTC 2026","passed","Fri Feb 06 10:21:33 UTC 2026","TestEndpointRegistration","test_main","",""
"Test that 'message' field in response is properly unwrapped.","2","test_unwraps_message_field_in_response","tests.unit","Fri Feb 06 10:21:32 UTC 2026","passed","Fri Feb 06 10:21:32 UTC 2026","TestERPNextClientSuccessfulResponses","test_erpnext_client","",""
"
    CRITICAL: Verify doctype is NOT sent in query params.
    ERPNext get_list() fails if doctype is passed both in URL and params.
    ","6","test_erpnext_client_does_not_send_doctype_twice","tests.api","Fri Feb 06 10:21:35 UTC 2026","passed","Fri Feb 06 10:21:35 UTC 2026","","test_sales_orders_endpoint","",""
"Test: NO_EARLY_DELIVERY mode when promise < desired_date (adjust to desired).","1","test_no_early_delivery_promise_earlier","tests.unit","Fri Feb 06 10:21:32 UTC 2026","passed","Fri Feb 06 10:21:32 UTC 2026","TestDesiredDateHandling","test_desired_date","",""
"Test: Warehouse override has higher priority than rule-level override.","1","test_processing_lead_time_rule_override","tests.unit","Fri Feb 06 10:21:33 UTC 2026","passed","Fri Feb 06 10:21:33 UTC 2026","TestProcessingLeadTime","test_processing_lead_time","",""
"Test that settings instance is globally accessible.","0","test_settings_is_singleton_like","tests.unit","Fri Feb 06 10:21:32 UTC 2026","passed","Fri Feb 06 10:21:32 UTC 2026","TestGlobalSettingsInstance","test_config","",""
"Friday and Saturday should be weekend days.","0","test_is_working_day_friday_saturday_weekend","tests.unit","Fri Feb 06 10:21:32 UTC 2026","passed","Fri Feb 06 10:21:32 UTC 2026","TestCalendarUtilities","test_calendar_workweek","",""
"Detect group warehouses correctly.","0","test_is_group_warehouse","tests.unit","Fri Feb 06 10:21:33 UTC 2026","passed","Fri Feb 06 10:21:33 UTC 2026","TestWarehouseGroupExpansion","test_warehouse_handling","",""
"Filter warehouses by type.","1","test_filter_available_warehouses","tests.unit","Fri Feb 06 10:21:33 UTC 2026","passed","Fri Feb 06 10:21:33 UTC 2026","TestWarehouseGroupExpansion","test_warehouse_handling","",""
"Test: on_time flag changes when stock/supply changes relative to desired_date.","0","test_dynamic_recalculation_with_desired_date","tests.unit","Fri Feb 06 10:21:32 UTC 2026","passed","Fri Feb 06 10:21:32 UTC 2026","TestDesiredDateHandling","test_desired_date","",""
"Test: LATEST_ACCEPTABLE mode when promise > desired_date (late).","1","test_latest_acceptable_late","tests.unit","Fri Feb 06 10:21:32 UTC 2026","passed","Fri Feb 06 10:21:32 UTC 2026","TestDesiredDateHandling","test_desired_date","",""
"Test health check returns degraded when ERPNext is disconnected.","4","test_health_check_degraded_when_erpnext_disconnected","tests.unit","Fri Feb 06 10:21:33 UTC 2026","passed","Fri Feb 06 10:21:33 UTC 2026","TestHealthCheckEndpoint","test_main","",""
"Adding working days within same week.","1","test_add_working_days_within_week","tests.unit","Fri Feb 06 10:21:32 UTC 2026","passed","Fri Feb 06 10:21:32 UTC 2026","TestCalendarUtilities","test_calendar_workweek","",""
"Stores-type warehouses should be SELLABLE.","0","test_sellable_warehouses","tests.unit","Fri Feb 06 10:21:33 UTC 2026","passed","Fri Feb 06 10:21:33 UTC 2026","TestWarehouseClassification","test_warehouse_handling","",""
"Test that shutdown event handler is configured.","1","test_shutdown_event_configured","tests.unit","Fri Feb 06 10:21:33 UTC 2026","passed","Fri Feb 06 10:21:33 UTC 2026","TestStartupShutdownEvents","test_main","",""
"Test applying promise with both comment and custom field.","1","test_apply_promise_with_both_actions","tests.unit","Fri Feb 06 10:21:32 UTC 2026","passed","Fri Feb 06 10:21:32 UTC 2026","TestApplyServiceSuccessPath","test_apply_service","",""
"Test that shutdown event logs shutdown message.","2","test_shutdown_event_logs_message","tests.unit","Fri Feb 06 10:21:33 UTC 2026","passed","Fri Feb 06 10:21:33 UTC 2026","TestStartupAndShutdownEvents","test_main","",""
"WIP and rejected warehouses should be NOT_AVAILABLE.","1","test_not_available_warehouses","tests.unit","Fri Feb 06 10:21:33 UTC 2026","passed","Fri Feb 06 10:21:33 UTC 2026","TestWarehouseClassification","test_warehouse_handling","",""
"Test that OTP router endpoints are accessible.","3","test_otp_router_included","tests.unit","Fri Feb 06 10:21:33 UTC 2026","passed","Fri Feb 06 10:21:33 UTC 2026","TestRouterInclusion","test_main","",""
"Test response matches required schema - plain array of items.","4","test_sales_orders_response_format_matches_contract","tests.api","Fri Feb 06 10:21:35 UTC 2026","passed","Fri Feb 06 10:21:35 UTC 2026","","test_sales_orders_endpoint","",""
"Test ERPNextClientError handling in apply_promise.","23","test_apply_promise_erpnext_error","tests.api","Fri Feb 06 10:21:35 UTC 2026","passed","Fri Feb 06 10:21:35 UTC 2026","TestOTPEndpointExceptionHandlers","test_endpoints","",""
"Test that PO data is transformed to expected format.","1","test_transforms_po_data_correctly","tests.unit","Fri Feb 06 10:21:33 UTC 2026","passed","Fri Feb 06 10:21:33 UTC 2026","TestStockServiceDataTransformation","test_stock_service","",""
"Test that ERPNext error responses with 'exc_type' field raise ERPNextClientError.","2","test_handles_erpnext_error_exc_type_field","tests.unit","Fri Feb 06 10:21:32 UTC 2026","passed","Fri Feb 06 10:21:32 UTC 2026","TestERPNextClientMalformedResponses","test_erpnext_client","",""
"Test that ERPNext error responses with 'exception' field raise ERPNextClientError.","2","test_handles_erpnext_error_exception_field","tests.unit","Fri Feb 06 10:21:32 UTC 2026","passed","Fri Feb 06 10:21:32 UTC 2026","TestERPNextClientMalformedResponses","test_erpnext_client","",""
"Unmapped warehouses should match by pattern.","0","test_pattern_matching","tests.unit","Fri Feb 06 10:21:33 UTC 2026","passed","Fri Feb 06 10:21:33 UTC 2026","TestWarehouseClassification","test_warehouse_handling","",""
"Test health check exception handling.","2","test_health_check_with_exception","tests.api","Fri Feb 06 10:21:35 UTC 2026","passed","Fri Feb 06 10:21:35 UTC 2026","TestOTPEndpointExceptionHandlers","test_endpoints","",""
"Test basic endpoint format.","0","test_sales_orders_empty_list_format","tests.api","Fri Feb 06 10:21:35 UTC 2026","passed","Fri Feb 06 10:21:35 UTC 2026","TestSalesOrdersEndpointEmptyResults","test_endpoints","",""
"Test empty warehouse name defaults to SELLABLE.","0","test_empty_warehouse_name","tests.unit","Fri Feb 06 10:21:33 UTC 2026","passed","Fri Feb 06 10:21:33 UTC 2026","TestWarehouseClassification","test_warehouse_handling","",""
"Test all query parameters are correctly passed to client.","5","test_query_params_mapping","tests.api","Fri Feb 06 10:21:35 UTC 2026","passed","Fri Feb 06 10:21:36 UTC 2026","","test_sales_orders_endpoint","",""
"Test that missing required fields return 422.","24","test_promise_missing_required_field_returns_422","tests.api","Fri Feb 06 10:21:35 UTC 2026","passed","Fri Feb 06 10:21:35 UTC 2026","TestPromiseEndpointErrorHandling","test_endpoints","",""
"Test incoming supply with no POs.","1","test_get_incoming_supply_empty","tests.unit","Fri Feb 06 10:21:33 UTC 2026","passed","Fri Feb 06 10:21:33 UTC 2026","TestStockServiceGetIncomingSupply","test_stock_service","",""
"Test that POs without schedule_date are skipped.","0","test_skips_pos_without_schedule_date","tests.unit","Fri Feb 06 10:21:33 UTC 2026","passed","Fri Feb 06 10:21:33 UTC 2026","TestStockServiceEdgeCases","test_stock_service","",""
"Test that lead time buffer is non-negative.","0","test_settings_lead_time_non_negative","tests.unit","Fri Feb 06 10:21:32 UTC 2026","passed","Fri Feb 06 10:21:32 UTC 2026","TestSettingsPydanticValidation","test_config","",""
"Test that test credentials are configured.","0","test_settings_test_credentials_available","tests.unit","Fri Feb 06 10:21:32 UTC 2026","passed","Fri Feb 06 10:21:32 UTC 2026","TestSettingsConfiguration","test_config","",""
"Test: Processing lead time applied to PO delivery dates.","0","test_processing_lead_time_with_po","tests.unit","Fri Feb 06 10:21:33 UTC 2026","passed","Fri Feb 06 10:21:33 UTC 2026","TestProcessingLeadTime","test_processing_lead_time","",""
"Reasons should mention weekend adjustment.","0","test_weekend_adjustment_reason_included","tests.unit","Fri Feb 06 10:21:32 UTC 2026","passed","Fri Feb 06 10:21:32 UTC 2026","TestPromiseCalculationWithCalendar","test_calendar_workweek","",""
"Test health check returns False on error.","1","test_health_check_failure_on_error","tests.unit","Fri Feb 06 10:21:32 UTC 2026","passed","Fri Feb 06 10:21:32 UTC 2026","TestERPNextClientHealthCheck","test_erpnext_client","",""
"Test that /otp/apply endpoint is registered.","2","test_apply_endpoint_registered","tests.unit","Fri Feb 06 10:21:33 UTC 2026","passed","Fri Feb 06 10:21:33 UTC 2026","TestEndpointRegistration","test_main","",""
"Test error when sales order doesn't exist.","1","test_sales_order_not_found_returns_error","tests.unit","Fri Feb 06 10:21:32 UTC 2026","passed","Fri Feb 06 10:21:32 UTC 2026","TestApplyServiceErrorHandling","test_apply_service","",""
"Expand list with group warehouse.","0","test_expand_warehouse_list_with_group","tests.unit","Fri Feb 06 10:21:33 UTC 2026","passed","Fri Feb 06 10:21:33 UTC 2026","TestWarehouseGroupExpansion","test_warehouse_handling","",""
"Test: Warehouse classified as NEEDS_PROCESSING adds extra day.","0","test_warehouse_needs_processing","tests.unit","Fri Feb 06 10:21:33 UTC 2026","passed","Fri Feb 06 10:21:33 UTC 2026","TestPromiseService","test_promise_service","",""
"Test: Default processing lead time (1 day) is applied.","0","test_processing_lead_time_default","tests.unit","Fri Feb 06 10:21:33 UTC 2026","passed","Fri Feb 06 10:21:33 UTC 2026","TestProcessingLeadTime","test_processing_lead_time","",""
"NEEDS_PROCESSING warehouse reason.","0","test_needs_processing_reason","tests.unit","Fri Feb 06 10:21:33 UTC 2026","passed","Fri Feb 06 10:21:33 UTC 2026","TestWarehouseAvailabilityReasons","test_warehouse_handling","",""
"Test that empty results are returned correctly.","4","test_empty_response","tests.api","Fri Feb 06 10:21:36 UTC 2026","passed","Fri Feb 06 10:21:36 UTC 2026","","test_sales_orders_endpoint","",""
"Expand list without deduplication keeps duplicates.","1","test_expand_no_deduplicate","tests.unit","Fri Feb 06 10:21:33 UTC 2026","passed","Fri Feb 06 10:21:33 UTC 2026","TestWarehouseGroupExpansion","test_warehouse_handling","",""
"Test that no stock fetch occurs when warehouse is missing.","4","test_sales_order_details_no_warehouse_no_stock_fetch","tests.api","Fri Feb 06 10:21:35 UTC 2026","passed","Fri Feb 06 10:21:35 UTC 2026","TestSalesOrderDetailsEndpointStockDataHandling","test_endpoints","",""
"Test response with zero stock values.","4","test_get_stock_zero_values","tests.api","Fri Feb 06 10:21:35 UTC 2026","passed","Fri Feb 06 10:21:35 UTC 2026","TestItemStockEndpoint","test_items_endpoint","",""
"Test that promise endpoint is registered.","0","test_promise_endpoint_exists","tests.api","Fri Feb 06 10:21:35 UTC 2026","passed","Fri Feb 06 10:21:35 UTC 2026","TestPromiseEndpointSuccessPath","test_endpoints","",""
"Test that other errors are flagged with other_error.","1","test_get_incoming_supply_other_error_handled","tests.unit","Fri Feb 06 10:21:33 UTC 2026","passed","Fri Feb 06 10:21:33 UTC 2026","TestStockServiceGetIncomingSupply","test_stock_service","",""
"Adding working days across multiple weeks.","0","test_add_working_days_multiple_weeks","tests.unit","Fri Feb 06 10:21:32 UTC 2026","passed","Fri Feb 06 10:21:32 UTC 2026","TestCalendarUtilities","test_calendar_workweek","",""
"Test bin details returns default values when empty.","2","test_bin_details_returns_defaults_when_empty","tests.unit","Fri Feb 06 10:21:32 UTC 2026","passed","Fri Feb 06 10:21:32 UTC 2026","TestERPNextClientBinDetails","test_erpnext_client","",""
"Test: Promise date adjusted to skip weekends (Fri-Sat).","1","test_skip_weekends","tests.unit","Fri Feb 06 10:21:33 UTC 2026","passed","Fri Feb 06 10:21:33 UTC 2026","TestPromiseService","test_promise_service","",""
"Test: PO expected date falls on weekend → adjusted to next working day.","1","test_po_falls_on_weekend_adjusted","tests.unit","Fri Feb 06 10:21:33 UTC 2026","passed","Fri Feb 06 10:21:33 UTC 2026","TestPromiseService","test_promise_service","",""
"Test that item codes are passed exactly as provided (case-sensitive).","5","test_get_stock_case_sensitive_item_code","tests.api","Fri Feb 06 10:21:35 UTC 2026","passed","Fri Feb 06 10:21:35 UTC 2026","TestItemStockEndpoint","test_items_endpoint","",""
"next_working_day from Friday should return Sunday.","0","test_next_working_day_from_friday","tests.unit","Fri Feb 06 10:21:32 UTC 2026","passed","Fri Feb 06 10:21:32 UTC 2026","TestCalendarUtilities","test_calendar_workweek","",""
"Note: Caching behavior is tested in integration tests.","0","test_sales_orders_cache_documented","tests.api","Fri Feb 06 10:21:35 UTC 2026","passed","Fri Feb 06 10:21:35 UTC 2026","TestSalesOrdersEndpointCaching","test_endpoints","",""
"Test 404 when item doesn't exist in warehouse.","4","test_get_stock_item_not_found","tests.api","Fri Feb 06 10:21:35 UTC 2026","passed","Fri Feb 06 10:21:35 UTC 2026","TestItemStockEndpoint","test_items_endpoint","",""
"Test custom warehouse hierarchy.","1","test_custom_hierarchy","tests.unit","Fri Feb 06 10:21:33 UTC 2026","passed","Fri Feb 06 10:21:33 UTC 2026","TestWarehouseClassification","test_warehouse_handling","",""
"Stock in Work In Progress should be ignored.","1","test_wip_stock_ignored","tests.unit","Fri Feb 06 10:21:33 UTC 2026","passed","Fri Feb 06 10:21:33 UTC 2026","TestPromiseCalculationWithWarehouses","test_warehouse_handling","",""
"Test that ERPNext errors return 502 Bad Gateway.","4","test_sales_order_details_returns_502_on_erpnext_error","tests.api","Fri Feb 06 10:21:35 UTC 2026","passed","Fri Feb 06 10:21:35 UTC 2026","","test_sales_order_details_endpoint","",""
"Test: When some items available and desired date missed → suggest split shipment.","0","test_split_shipment_option","tests.unit","Fri Feb 06 10:21:33 UTC 2026","passed","Fri Feb 06 10:21:33 UTC 2026","TestPromiseService","test_promise_service","",""
"Test 422 validation error response format.","22","test_422_validation_error_format","tests.unit","Fri Feb 06 10:21:33 UTC 2026","passed","Fri Feb 06 10:21:33 UTC 2026","TestErrorResponseFormats","test_main","",""
"Test that port must be positive integer.","0","test_settings_port_positive_integer","tests.unit","Fri Feb 06 10:21:32 UTC 2026","passed","Fri Feb 06 10:21:32 UTC 2026","TestSettingsPydanticValidation","test_config","",""
"Test that endpoint calls correct ERPNext Bin doctype.","4","test_get_stock_calls_correct_doctype","tests.api","Fri Feb 06 10:21:35 UTC 2026","passed","Fri Feb 06 10:21:35 UTC 2026","TestItemStockEndpoint","test_items_endpoint","",""
"Verify endpoint appears in OpenAPI schema.","118","test_sales_order_details_is_in_openapi","tests.api","Fri Feb 06 10:21:35 UTC 2026","passed","Fri Feb 06 10:21:35 UTC 2026","","test_sales_order_details_endpoint","",""
"Test 422 when warehouse parameter is missing.","2","test_get_stock_missing_warehouse","tests.api","Fri Feb 06 10:21:35 UTC 2026","passed","Fri Feb 06 10:21:35 UTC 2026","TestItemStockEndpoint","test_items_endpoint","",""
"Test that stock fetch failures are handled gracefully.","9","test_sales_order_details_stock_fetch_failure_handled","tests.api","Fri Feb 06 10:21:35 UTC 2026","passed","Fri Feb 06 10:21:35 UTC 2026","TestSalesOrderDetailsEndpointStockDataHandling","test_endpoints","",""
"Test PO response is transformed to our format.","3","test_incoming_po_transforms_response","tests.unit","Fri Feb 06 10:21:32 UTC 2026","passed","Fri Feb 06 10:21:32 UTC 2026","TestERPNextClientPurchaseOrders","test_erpnext_client","",""
"Test response matches required schema.","5","test_sales_order_details_response_format_matches_contract","tests.api","Fri Feb 06 10:21:35 UTC 2026","passed","Fri Feb 06 10:21:35 UTC 2026","","test_sales_order_details_endpoint","",""
"PO arriving on Saturday should be treated as arriving on Sunday.","1","test_po_arrival_on_saturday_adjusted_to_sunday","tests.unit","Fri Feb 06 10:21:32 UTC 2026","passed","Fri Feb 06 10:21:32 UTC 2026","TestIncomingSupplyWeekendAdjustment","test_calendar_workweek","",""
"Promise date must never land on Friday or Saturday.","0","test_promise_date_never_weekend","tests.unit","Fri Feb 06 10:21:32 UTC 2026","passed","Fri Feb 06 10:21:32 UTC 2026","TestPromiseCalculationWithCalendar","test_calendar_workweek","",""
"Test that set_warehouse is used for defaults.","4","test_sales_order_details_uses_set_warehouse","tests.api","Fri Feb 06 10:21:35 UTC 2026","passed","Fri Feb 06 10:21:35 UTC 2026","TestSalesOrderDetailsEndpointDefaultsHandling","test_endpoints","",""
"Test PO response when no POs available.","2","test_incoming_po_empty_list","tests.unit","Fri Feb 06 10:21:32 UTC 2026","passed","Fri Feb 06 10:21:32 UTC 2026","TestERPNextClientPurchaseOrders","test_erpnext_client","",""
"Test 400 when item_code is empty string.","6","test_get_stock_empty_item_code","tests.api","Fri Feb 06 10:21:35 UTC 2026","passed","Fri Feb 06 10:21:35 UTC 2026","TestItemStockEndpoint","test_items_endpoint","",""
"Test that exception handler returns proper format.","3","test_exception_handler_message_format","tests.unit","Fri Feb 06 10:21:33 UTC 2026","passed","Fri Feb 06 10:21:33 UTC 2026","TestGlobalExceptionHandler","test_main","",""
"Test that validation errors return 422 Unprocessable Entity.","79","test_promise_validation_error_returns_422","tests.api","Fri Feb 06 10:21:35 UTC 2026","passed","Fri Feb 06 10:21:35 UTC 2026","TestPromiseEndpointErrorHandling","test_endpoints","",""
"Test that app has correct title and version.","0","test_app_title_and_version","tests.unit","Fri Feb 06 10:21:32 UTC 2026","passed","Fri Feb 06 10:21:32 UTC 2026","TestAppSetup","test_main","",""
"Test that CORS headers are present in responses.","2","test_cors_headers_present","tests.unit","Fri Feb 06 10:21:33 UTC 2026","passed","Fri Feb 06 10:21:33 UTC 2026","TestCORSMiddleware","test_main","",""
"Test handling of missing qty fields in ERPNext response.","4","test_get_stock_missing_qty_fields","tests.api","Fri Feb 06 10:21:35 UTC 2026","passed","Fri Feb 06 10:21:35 UTC 2026","TestItemStockEndpoint","test_items_endpoint","",""
"Test that demo_data router endpoints are accessible.","2","test_demo_data_router_included","tests.unit","Fri Feb 06 10:21:33 UTC 2026","passed","Fri Feb 06 10:21:33 UTC 2026","TestRouterInclusion","test_main","",""
"Test that settings values are consistent.","1","test_settings_immutable_behavior","tests.unit","Fri Feb 06 10:21:32 UTC 2026","passed","Fri Feb 06 10:21:32 UTC 2026","TestGlobalSettingsInstance","test_config","",""
"Test material request with single item.","1","test_material_request_with_single_item","tests.unit","Fri Feb 06 10:21:32 UTC 2026","passed","Fri Feb 06 10:21:32 UTC 2026","TestApplyServiceEdgeCases","test_apply_service","",""
"Test generic exception handling in list_sales_orders.","5","test_list_sales_orders_generic_exception","tests.api","Fri Feb 06 10:21:35 UTC 2026","passed","Fri Feb 06 10:21:35 UTC 2026","TestOTPEndpointExceptionHandlers","test_endpoints","",""
"Test bin details when response wraps data in 'data' field.","2","test_bin_details_with_data_wrapper","tests.unit","Fri Feb 06 10:21:32 UTC 2026","passed","Fri Feb 06 10:21:32 UTC 2026","TestERPNextClientBinDetails","test_erpnext_client","",""
"Test desired date analysis fallback path.","1","test_desired_date_fallback_return","tests.unit","Fri Feb 06 10:21:33 UTC 2026","passed","Fri Feb 06 10:21:33 UTC 2026","TestPromiseServiceEdgeCases","test_promise_service","",""
"Test: no_weekends=False allows weekend delivery dates.","0","test_no_weekends_false","tests.unit","Fri Feb 06 10:21:33 UTC 2026","passed","Fri Feb 06 10:21:33 UTC 2026","TestPromiseService","test_promise_service","",""
"Test that unsupported suggestion types return error.","0","test_create_unsupported_suggestion_type","tests.unit","Fri Feb 06 10:21:32 UTC 2026","passed","Fri Feb 06 10:21:32 UTC 2026","TestApplyServiceCreateMaterialRequest","test_apply_service","",""
"Test material request creation error handling.","1","test_create_material_request_handles_error","tests.unit","Fri Feb 06 10:21:32 UTC 2026","passed","Fri Feb 06 10:21:32 UTC 2026","TestApplyServiceCreateMaterialRequest","test_apply_service","",""
"Test that close method closes the client.","1","test_close_method","tests.unit","Fri Feb 06 10:21:32 UTC 2026","passed","Fri Feb 06 10:21:32 UTC 2026","TestERPNextClientContextManager","test_erpnext_client","",""
"Test that available_qty is calculated as actual - reserved.","0","test_calculates_available_qty_correctly","tests.unit","Fri Feb 06 10:21:33 UTC 2026","passed","Fri Feb 06 10:21:33 UTC 2026","TestStockServiceDataTransformation","test_stock_service","",""
"Test that 404 error raises ERPNextClientError.","4","test_handles_404_not_found_error","tests.unit","Fri Feb 06 10:21:32 UTC 2026","passed","Fri Feb 06 10:21:32 UTC 2026","TestERPNextClientHTTPErrors","test_erpnext_client","",""
"Test that ERPNext URL is properly constructed.","1","test_erpnext_url_construction","tests.unit","Fri Feb 06 10:21:32 UTC 2026","passed","Fri Feb 06 10:21:32 UTC 2026","TestApplyServiceEdgeCases","test_apply_service","",""
"Test that comment failure doesn't stop other actions.","2","test_comment_failure_continues_with_warning","tests.unit","Fri Feb 06 10:21:32 UTC 2026","passed","Fri Feb 06 10:21:32 UTC 2026","TestApplyServiceErrorHandling","test_apply_service","",""
"Test that CORS allows configured origins.","26","test_cors_allows_origins","tests.unit","Fri Feb 06 10:21:33 UTC 2026","passed","Fri Feb 06 10:21:33 UTC 2026","TestCORSMiddleware","test_main","",""
"Test successful incoming supply retrieval.","1","test_get_incoming_supply_success","tests.unit","Fri Feb 06 10:21:33 UTC 2026","passed","Fri Feb 06 10:21:33 UTC 2026","TestStockServiceGetIncomingSupply","test_stock_service","",""
"Test: Partial from stock, rest from PO → MEDIUM confidence.","0","test_promise_partial_stock","tests.unit","Fri Feb 06 10:21:33 UTC 2026","passed","Fri Feb 06 10:21:33 UTC 2026","TestPromiseService","test_promise_service","",""
"Test that all query filters are passed to ERPNext client.","7","test_sales_orders_with_all_filters","tests.api","Fri Feb 06 10:21:35 UTC 2026","passed","Fri Feb 06 10:21:35 UTC 2026","TestSalesOrderListFilters","test_endpoints","",""
"Test that different warehouses make separate calls.","1","test_different_warehouses_separate_calls","tests.unit","Fri Feb 06 10:21:33 UTC 2026","passed","Fri Feb 06 10:21:33 UTC 2026","TestStockServiceMultipleWarehouseScenarios","test_stock_service","",""
"Test: NO_EARLY_DELIVERY mode when promise > desired_date (late, not adjusted).","0","test_no_early_delivery_promise_later","tests.unit","Fri Feb 06 10:21:32 UTC 2026","passed","Fri Feb 06 10:21:32 UTC 2026","TestDesiredDateHandling","test_desired_date","",""
"PO arriving on Friday should be treated as arriving on Sunday.","0","test_po_arrival_on_friday_adjusted_to_sunday","tests.unit","Fri Feb 06 10:21:32 UTC 2026","passed","Fri Feb 06 10:21:32 UTC 2026","TestIncomingSupplyWeekendAdjustment","test_calendar_workweek","",""
"Test: STRICT_FAIL mode when promise > desired_date (raises ValueError).","0","test_strict_fail_late_raises_error","tests.unit","Fri Feb 06 10:21:32 UTC 2026","passed","Fri Feb 06 10:21:32 UTC 2026","TestDesiredDateHandling","test_desired_date","",""
"Test applying promise with custom comment text.","1","test_apply_promise_with_custom_comment_text","tests.unit","Fri Feb 06 10:21:32 UTC 2026","passed","Fri Feb 06 10:21:32 UTC 2026","TestApplyServiceSuccessPath","test_apply_service","",""
"Test custom warehouse classifications.","0","test_custom_classifications","tests.unit","Fri Feb 06 10:21:33 UTC 2026","passed","Fri Feb 06 10:21:33 UTC 2026","TestWarehouseClassification","test_warehouse_handling","",""
"Test successful health check.","2","test_health_check_success","tests.unit","Fri Feb 06 10:21:32 UTC 2026","passed","Fri Feb 06 10:21:32 UTC 2026","TestERPNextClientHealthCheck","test_erpnext_client","",""
"next_working_day should return same date if already working day.","0","test_next_working_day_from_working_day","tests.unit","Fri Feb 06 10:21:32 UTC 2026","passed","Fri Feb 06 10:21:32 UTC 2026","TestCalendarUtilities","test_calendar_workweek","",""
"Test: All items available in stock → HIGH confidence, immediate promise.","1","test_promise_all_from_stock","tests.unit","Fri Feb 06 10:21:33 UTC 2026","passed","Fri Feb 06 10:21:33 UTC 2026","TestPromiseService","test_promise_service","",""
"IN_TRANSIT warehouse reason.","0","test_in_transit_reason","tests.unit","Fri Feb 06 10:21:33 UTC 2026","passed","Fri Feb 06 10:21:33 UTC 2026","TestWarehouseAvailabilityReasons","test_warehouse_handling","",""
"Cutoff on Thursday should add 1 working day (skip to Sunday).","1","test_cutoff_on_thursday_adds_working_day","tests.unit","Fri Feb 06 10:21:32 UTC 2026","passed","Fri Feb 06 10:21:32 UTC 2026","TestCutoffRuleWithCalendar","test_calendar_workweek","",""
"Test: NO_EARLY_DELIVERY mode delays promise to match desired date.","1","test_no_early_delivery_mode","tests.unit","Fri Feb 06 10:21:33 UTC 2026","passed","Fri Feb 06 10:21:33 UTC 2026","TestPromiseService","test_promise_service","",""
"Test that startup event is triggered (indirectly).","1","test_startup_event_logs_info","tests.unit","Fri Feb 06 10:21:33 UTC 2026","passed","Fri Feb 06 10:21:33 UTC 2026","TestStartupShutdownEvents","test_main","",""
"Test business rule defaults are sensible.","1","test_settings_business_rule_defaults","tests.unit","Fri Feb 06 10:21:32 UTC 2026","passed","Fri Feb 06 10:21:32 UTC 2026","TestSettingsConfiguration","test_config","",""
"Test that stock metrics are optional (backward compatibility).","5","test_sales_order_details_stock_metrics_are_optional","tests.api","Fri Feb 06 10:21:35 UTC 2026","passed","Fri Feb 06 10:21:35 UTC 2026","","test_sales_order_details_endpoint","",""
"Test material request creation with priority.","1","test_create_material_request_with_priority","tests.unit","Fri Feb 06 10:21:32 UTC 2026","passed","Fri Feb 06 10:21:32 UTC 2026","TestApplyServiceCreateMaterialRequest","test_apply_service","",""
"Note: Timeout handling is covered by integration tests.","0","test_timeout_handling_documented","tests.unit","Fri Feb 06 10:21:32 UTC 2026","passed","Fri Feb 06 10:21:32 UTC 2026","TestERPNextClientTimeoutHandling","test_erpnext_client","",""
"Goods In Transit warehouses should be IN_TRANSIT.","0","test_in_transit_warehouses","tests.unit","Fri Feb 06 10:21:33 UTC 2026","passed","Fri Feb 06 10:21:33 UTC 2026","TestWarehouseClassification","test_warehouse_handling","",""
"Adding working days should skip Friday and Saturday.","0","test_add_working_days_skip_weekend","tests.unit","Fri Feb 06 10:21:32 UTC 2026","passed","Fri Feb 06 10:21:32 UTC 2026","TestCalendarUtilities","test_calendar_workweek","",""
"Test: PO data access denied due to permissions → handles gracefully.","1","test_po_access_permission_denied","tests.unit","Fri Feb 06 10:21:33 UTC 2026","passed","Fri Feb 06 10:21:33 UTC 2026","TestPromiseService","test_promise_service","",""
"Test that confidence field update failure is silently ignored.","1","test_confidence_field_failure_ignored","tests.unit","Fri Feb 06 10:21:32 UTC 2026","passed","Fri Feb 06 10:21:32 UTC 2026","TestApplyServiceErrorHandling","test_apply_service","",""
"Test: Item-specific processing lead time overrides warehouse override.","0","test_processing_lead_time_item_override","tests.unit","Fri Feb 06 10:21:33 UTC 2026","passed","Fri Feb 06 10:21:33 UTC 2026","TestProcessingLeadTime","test_processing_lead_time","",""
"Test handling of very large quantities.","1","test_very_large_quantities","tests.unit","Fri Feb 06 10:21:33 UTC 2026","passed","Fri Feb 06 10:21:33 UTC 2026","TestStockServiceEdgeCases","test_stock_service","",""
"Test health check handles exceptions gracefully.","4","test_health_check_handles_exception","tests.unit","Fri Feb 06 10:21:33 UTC 2026","passed","Fri Feb 06 10:21:33 UTC 2026","TestHealthCheckEndpoint","test_main","",""
"Test warehouse-related settings.","0","test_settings_warehouse_configuration","tests.unit","Fri Feb 06 10:21:32 UTC 2026","passed","Fri Feb 06 10:21:32 UTC 2026","TestSettingsConfiguration","test_config","",""
"Test that 403 Forbidden error raises ERPNextClientError.","2","test_handles_403_permission_denied_error","tests.unit","Fri Feb 06 10:21:32 UTC 2026","passed","Fri Feb 06 10:21:32 UTC 2026","TestERPNextClientHTTPErrors","test_erpnext_client","",""
"Test get_controller branch with mock supply enabled.","1","test_get_controller_with_mock_supply","tests.api","Fri Feb 06 10:21:35 UTC 2026","passed","Fri Feb 06 10:21:35 UTC 2026","TestOTPEndpointExceptionHandlers","test_endpoints","",""
"Test bin details when response is a direct list (not wrapped).","2","test_bin_details_direct_list_response","tests.unit","Fri Feb 06 10:21:32 UTC 2026","passed","Fri Feb 06 10:21:32 UTC 2026","TestERPNextClientBinDetails","test_erpnext_client","",""
"Test that validation errors return 422.","25","test_apply_validation_error_returns_422","tests.api","Fri Feb 06 10:21:35 UTC 2026","passed","Fri Feb 06 10:21:35 UTC 2026","TestApplyEndpointErrorHandling","test_endpoints","",""
"Expand list with no groups returns same list.","0","test_expand_warehouse_list_no_groups","tests.unit","Fri Feb 06 10:21:33 UTC 2026","passed","Fri Feb 06 10:21:33 UTC 2026","TestWarehouseGroupExpansion","test_warehouse_handling","",""
"Adding zero working days should return same date.","0","test_add_working_days_zero","tests.unit","Fri Feb 06 10:21:32 UTC 2026","passed","Fri Feb 06 10:21:32 UTC 2026","TestCalendarUtilities","test_calendar_workweek","",""
"Test delivery model setting.","1","test_settings_delivery_model","tests.unit","Fri Feb 06 10:21:32 UTC 2026","passed","Fri Feb 06 10:21:32 UTC 2026","TestSettingsConfiguration","test_config","",""
"Test that health check response has all required fields.","4","test_health_check_response_has_all_fields","tests.unit","Fri Feb 06 10:21:33 UTC 2026","passed","Fri Feb 06 10:21:33 UTC 2026","TestHealthCheckResponseModel","test_main","",""
"Get children of group warehouse.","1","test_get_child_warehouses","tests.unit","Fri Feb 06 10:21:33 UTC 2026","passed","Fri Feb 06 10:21:33 UTC 2026","TestWarehouseGroupExpansion","test_warehouse_handling","",""
"SELLABLE warehouse reason.","0","test_sellable_reason","tests.unit","Fri Feb 06 10:21:33 UTC 2026","passed","Fri Feb 06 10:21:33 UTC 2026","TestWarehouseAvailabilityReasons","test_warehouse_handling","",""
"Test that docs endpoint is available.","5","test_docs_endpoint_available","tests.unit","Fri Feb 06 10:21:32 UTC 2026","passed","Fri Feb 06 10:21:32 UTC 2026","TestAppSetup","test_main","",""
"Test that /otp/sales-orders endpoint is registered.","2","test_sales_orders_endpoint_registered","tests.unit","Fri Feb 06 10:21:33 UTC 2026","passed","Fri Feb 06 10:21:33 UTC 2026","TestEndpointRegistration","test_main","",""
"Test ERPNextClientError handling in calculate_promise.","24","test_calculate_promise_erpnext_error","tests.api","Fri Feb 06 10:21:35 UTC 2026","passed","Fri Feb 06 10:21:35 UTC 2026","TestOTPEndpointExceptionHandlers","test_endpoints","",""
"Test that non-404 ERPNext errors are mapped to 502.","5","test_non_404_error_mapped_to_502","tests.api","Fri Feb 06 10:21:35 UTC 2026","passed","Fri Feb 06 10:21:35 UTC 2026","TestERPNextErrorMapping","test_endpoints","",""
"Test sales orders cache returns cached data.","4","test_sales_orders_cache_hit","tests.api","Fri Feb 06 10:21:35 UTC 2026","passed","Fri Feb 06 10:21:35 UTC 2026","TestOTPEndpointExceptionHandlers","test_endpoints","",""
"Test with only actual_qty field present.","4","test_get_stock_only_actual_qty","tests.api","Fri Feb 06 10:21:35 UTC 2026","passed","Fri Feb 06 10:21:35 UTC 2026","TestItemStockEndpoint","test_items_endpoint","",""
"Expand list and remove duplicates.","0","test_expand_warehouse_list_deduplicate","tests.unit","Fri Feb 06 10:21:33 UTC 2026","passed","Fri Feb 06 10:21:33 UTC 2026","TestWarehouseGroupExpansion","test_warehouse_handling","",""
"Test: Weekend rules applied after processing lead time.","1","test_processing_lead_time_with_weekends","tests.unit","Fri Feb 06 10:21:33 UTC 2026","passed","Fri Feb 06 10:21:33 UTC 2026","TestProcessingLeadTime","test_processing_lead_time","",""
"Test successful material request creation.","25","test_create_material_request_success","tests.unit","Fri Feb 06 10:21:32 UTC 2026","passed","Fri Feb 06 10:21:32 UTC 2026","TestApplyServiceCreateMaterialRequest","test_apply_service","",""
"Processing lead time should count only working days.","1","test_processing_lead_time_counts_working_days","tests.unit","Fri Feb 06 10:21:32 UTC 2026","passed","Fri Feb 06 10:21:32 UTC 2026","TestPromiseCalculationWithCalendar","test_calendar_workweek","",""
"Test 400 when warehouse is empty string.","2","test_get_stock_empty_warehouse","tests.api","Fri Feb 06 10:21:35 UTC 2026","passed","Fri Feb 06 10:21:35 UTC 2026","TestItemStockEndpoint","test_items_endpoint","",""
"Test that 'data' field in response is properly unwrapped.","2","test_unwraps_data_field_in_response","tests.unit","Fri Feb 06 10:21:32 UTC 2026","passed","Fri Feb 06 10:21:32 UTC 2026","TestERPNextClientSuccessfulResponses","test_erpnext_client","",""
"Test that leading/trailing whitespace is handled correctly.","4","test_get_stock_whitespace_handling","tests.api","Fri Feb 06 10:21:35 UTC 2026","passed","Fri Feb 06 10:21:35 UTC 2026","TestItemStockEndpoint","test_items_endpoint","",""
"Test that ERPNext errors return 502 Bad Gateway, not 503.","4","test_erpnext_error_returns_502_not_503","tests.api","Fri Feb 06 10:21:36 UTC 2026","passed","Fri Feb 06 10:21:36 UTC 2026","","test_sales_orders_endpoint","",""
"Test: Desired date set but promise is late → suggestions offered.","0","test_desired_date_late","tests.unit","Fri Feb 06 10:21:33 UTC 2026","passed","Fri Feb 06 10:21:33 UTC 2026","TestPromiseService","test_promise_service","",""
"Test 404 when ERPNext returns 404 error.","4","test_get_stock_erpnext_404_error","tests.api","Fri Feb 06 10:21:35 UTC 2026","passed","Fri Feb 06 10:21:35 UTC 2026","TestItemStockEndpoint","test_items_endpoint","",""
"Test: Multiple items, promise is max of all item dates.","0","test_multi_item_promise","tests.unit","Fri Feb 06 10:21:33 UTC 2026","passed","Fri Feb 06 10:21:33 UTC 2026","TestPromiseService","test_promise_service","",""
"Test sales order list when response is not a list.","2","test_sales_order_list_non_list_response_returns_empty","tests.unit","Fri Feb 06 10:21:32 UTC 2026","passed","Fri Feb 06 10:21:32 UTC 2026","TestERPNextClientSalesOrderList","test_erpnext_client","",""
"Test that zero stock is handled correctly.","2","test_zero_stock_handled","tests.unit","Fri Feb 06 10:21:33 UTC 2026","passed","Fri Feb 06 10:21:33 UTC 2026","TestStockServiceEdgeCases","test_stock_service","",""
"NOT_AVAILABLE warehouse reason.","0","test_not_available_reason","tests.unit","Fri Feb 06 10:21:33 UTC 2026","passed","Fri Feb 06 10:21:33 UTC 2026","TestWarehouseAvailabilityReasons","test_warehouse_handling","",""
"GROUP warehouse reason.","1","test_group_reason","tests.unit","Fri Feb 06 10:21:33 UTC 2026","passed","Fri Feb 06 10:21:33 UTC 2026","TestWarehouseAvailabilityReasons","test_warehouse_handling","",""
"When no_weekends=False, Friday and Saturday should be allowed.","1","test_no_weekends_false_allows_friday_saturday","tests.unit","Fri Feb 06 10:21:32 UTC 2026","passed","Fri Feb 06 10:21:32 UTC 2026","TestPromiseCalculationWithCalendar","test_calendar_workweek","",""
"Test: Promise date changes when stock availability changes.","1","test_dynamic_recalculation_stock_change","tests.unit","Fri Feb 06 10:21:32 UTC 2026","passed","Fri Feb 06 10:21:32 UTC 2026","TestDesiredDateHandling","test_desired_date","",""
"Test: Options (split_shipment, expedite_po) generated when promise misses desired_date.","1","test_options_generated_when_late","tests.unit","Fri Feb 06 10:21:32 UTC 2026","passed","Fri Feb 06 10:21:32 UTC 2026","TestDesiredDateHandling","test_desired_date","",""
"Test applying promise with custom field only.","1","test_apply_promise_with_custom_field_only","tests.unit","Fri Feb 06 10:21:32 UTC 2026","passed","Fri Feb 06 10:21:32 UTC 2026","TestApplyServiceSuccessPath","test_apply_service","",""
"Test that /otp/promise endpoint is registered.","3","test_promise_endpoint_registered","tests.unit","Fri Feb 06 10:21:33 UTC 2026","passed","Fri Feb 06 10:21:33 UTC 2026","TestEndpointRegistration","test_main","",""
"Reasons should explain warehouse-based decisions.","0","test_reasons_explain_warehouse_decisions","tests.unit","Fri Feb 06 10:21:33 UTC 2026","passed","Fri Feb 06 10:21:33 UTC 2026","TestPromiseCalculationWithWarehouses","test_warehouse_handling","",""
"Test: All from incoming PO → MEDIUM confidence.","1","test_promise_no_stock","tests.unit","Fri Feb 06 10:21:33 UTC 2026","passed","Fri Feb 06 10:21:33 UTC 2026","TestPromiseService","test_promise_service","",""
