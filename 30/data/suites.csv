"DESCRIPTION","DURATION IN MS","NAME","PARENT SUITE","START TIME","STATUS","STOP TIME","SUB SUITE","SUITE","TEST CLASS","TEST METHOD"
"Test successful health check and circuit breaker operations.","23","test_health_check_success","tests.unit","Tue Feb 10 09:31:56 UTC 2026","passed","Tue Feb 10 09:31:56 UTC 2026","TestERPNextClientHealthCheck","test_erpnext_client","",""
"Test: Desired date set and promise meets it → on_time=True.","1","test_desired_date_on_time","tests.unit","Tue Feb 10 09:32:03 UTC 2026","passed","Tue Feb 10 09:32:03 UTC 2026","TestPromiseService","test_promise_service","",""
"Test: on_time flag changes when stock/supply changes relative to desired_date.","1","test_dynamic_recalculation_with_desired_date","tests.unit","Tue Feb 10 09:31:56 UTC 2026","passed","Tue Feb 10 09:31:56 UTC 2026","TestDesiredDateHandling","test_desired_date","",""
"Test that /otp/promise endpoint is registered.","2","test_promise_endpoint_registered","tests.unit","Tue Feb 10 09:32:03 UTC 2026","passed","Tue Feb 10 09:32:03 UTC 2026","TestEndpointRegistration","test_main","",""
"Test response unwrapping for data, message, and raw responses.","69","test_response_unwrapping","tests.unit","Tue Feb 10 09:31:56 UTC 2026","passed","Tue Feb 10 09:31:56 UTC 2026","TestERPNextClientSuccessfulResponses","test_erpnext_client","",""
"Test that lead time buffer is non-negative.","0","test_settings_lead_time_non_negative","tests.unit","Tue Feb 10 09:31:56 UTC 2026","passed","Tue Feb 10 09:31:56 UTC 2026","TestSettingsPydanticValidation","test_config","",""
"Test procurement suggestion handles generic errors.","5","test_procurement_suggestion_generic_error","tests.unit","Tue Feb 10 09:31:56 UTC 2026","passed","Tue Feb 10 09:31:56 UTC 2026","TestProcurementSuggestionErrorHandling","test_additional_coverage","",""
"Test that GROUP warehouse triggers warning in _build_item_plan.","19","test_group_warehouse_passed_to_build_item_plan","tests.unit","Tue Feb 10 09:31:56 UTC 2026","passed","Tue Feb 10 09:31:56 UTC 2026","TestGroupWarehouseWarning","test_additional_coverage","",""
"Test business rule defaults are sensible.","1","test_settings_business_rule_defaults","tests.unit","Tue Feb 10 09:31:56 UTC 2026","passed","Tue Feb 10 09:31:56 UTC 2026","TestSettingsConfiguration","test_config","",""
"Test _safe_float with all data types and edge cases.","1","test_safe_float_conversion","tests.unit","Tue Feb 10 09:32:03 UTC 2026","passed","Tue Feb 10 09:32:03 UTC 2026","TestMockSupplyServiceParsing","test_mock_supply_service","",""
"Test material request creation with empty items list.","0","test_empty_items_list_material_request","tests.unit","Tue Feb 10 09:31:56 UTC 2026","passed","Tue Feb 10 09:31:56 UTC 2026","TestApplyServiceEdgeCases","test_apply_service","",""
"Expand group warehouse with no children defined.","1","test_expand_group_no_children","tests.unit","Tue Feb 10 09:32:04 UTC 2026","passed","Tue Feb 10 09:32:04 UTC 2026","TestWarehouseGroupExpansion","test_warehouse_handling","",""
"Test that startup event logs environment information.","2","test_startup_event_logs_environment","tests.unit","Tue Feb 10 09:32:03 UTC 2026","passed","Tue Feb 10 09:32:03 UTC 2026","TestStartupAndShutdownEvents","test_main","",""
"Test: Promise date changes when stock availability changes.","1","test_dynamic_recalculation_stock_change","tests.unit","Tue Feb 10 09:31:56 UTC 2026","passed","Tue Feb 10 09:31:56 UTC 2026","TestDesiredDateHandling","test_desired_date","",""
"Test that PO data is transformed to expected format.","2","test_transforms_po_data_correctly","tests.unit","Tue Feb 10 09:32:04 UTC 2026","passed","Tue Feb 10 09:32:04 UTC 2026","TestStockServiceDataTransformation","test_stock_service","",""
"Test material request creation with success, non-dict response, and empty items.","67","test_create_material_request_various_scenarios","tests.unit","Tue Feb 10 09:31:57 UTC 2026","passed","Tue Feb 10 09:31:57 UTC 2026","TestERPNextClientMaterialRequest","test_erpnext_client","",""
"Test get_sales_order_list with various parameter combinations.","23","test_get_sales_order_list_with_parameters[CUST-001-Draft-2024-01-01-2024-02-01-None-10-0]","tests.unit","Tue Feb 10 09:32:00 UTC 2026","passed","Tue Feb 10 09:32:00 UTC 2026","TestERPNextClientSalesOrderListParameters","test_erpnext_client","",""
"Test: STRICT_FAIL mode when promise <= desired_date (succeeds).","1","test_strict_fail_on_time","tests.unit","Tue Feb 10 09:31:56 UTC 2026","passed","Tue Feb 10 09:31:56 UTC 2026","TestDesiredDateHandling","test_desired_date","",""
"Test after_date filter and warehouse-specific queries.","0","test_date_filtering_and_warehouse_handling","tests.unit","Tue Feb 10 09:32:03 UTC 2026","passed","Tue Feb 10 09:32:03 UTC 2026","TestMockSupplyService","test_mock_supply_service","",""
"Test delivery model setting.","0","test_settings_delivery_model","tests.unit","Tue Feb 10 09:31:56 UTC 2026","passed","Tue Feb 10 09:31:56 UTC 2026","TestSettingsConfiguration","test_config","",""
"Unmapped warehouses should match by pattern.","0","test_pattern_matching","tests.unit","Tue Feb 10 09:32:04 UTC 2026","passed","Tue Feb 10 09:32:04 UTC 2026","TestWarehouseClassification","test_warehouse_handling","",""
"Test get_sales_order_list with various parameter combinations.","22","test_get_sales_order_list_with_parameters[None-None-None-None-None-50-100]","tests.unit","Tue Feb 10 09:32:00 UTC 2026","passed","Tue Feb 10 09:32:00 UTC 2026","TestERPNextClientSalesOrderListParameters","test_erpnext_client","",""
"Test that error detail is included in development mode.","1","test_global_exception_handler_detail_in_development","tests.unit","Tue Feb 10 09:32:00 UTC 2026","passed","Tue Feb 10 09:32:00 UTC 2026","TestGlobalExceptionHandler","test_main","",""
"Test material request creation error handling.","1","test_create_material_request_handles_error","tests.unit","Tue Feb 10 09:31:56 UTC 2026","passed","Tue Feb 10 09:31:56 UTC 2026","TestApplyServiceCreateMaterialRequest","test_apply_service","",""
"Test that schedule_date can be a date object and after_date filtering works.","3","test_handles_date_type_schedule_date","tests.unit","Tue Feb 10 09:32:04 UTC 2026","passed","Tue Feb 10 09:32:04 UTC 2026","TestStockServiceEdgeCases","test_stock_service","",""
"Test health check returns False on error.","23","test_health_check_failure_on_error","tests.unit","Tue Feb 10 09:31:56 UTC 2026","passed","Tue Feb 10 09:31:56 UTC 2026","TestERPNextClientHealthCheck","test_erpnext_client","",""
"Test successful stock retrieval.","1","test_get_available_stock_success","tests.unit","Tue Feb 10 09:32:04 UTC 2026","passed","Tue Feb 10 09:32:04 UTC 2026","TestStockServiceGetAvailableStock","test_stock_service","",""
"Filter warehouses by type.","1","test_filter_available_warehouses","tests.unit","Tue Feb 10 09:32:04 UTC 2026","passed","Tue Feb 10 09:32:04 UTC 2026","TestWarehouseGroupExpansion","test_warehouse_handling","",""
"Test successful material request creation.","1","test_create_material_request_success","tests.unit","Tue Feb 10 09:31:56 UTC 2026","passed","Tue Feb 10 09:31:56 UTC 2026","TestApplyServiceCreateMaterialRequest","test_apply_service","",""
"Test: Default processing lead time (1 day) is applied.","1","test_processing_lead_time_default","tests.unit","Tue Feb 10 09:32:03 UTC 2026","passed","Tue Feb 10 09:32:03 UTC 2026","TestProcessingLeadTime","test_processing_lead_time","",""
"Test scrap and reject warehouses are NOT_AVAILABLE.","0","test_scrap_reject_pattern","tests.unit","Tue Feb 10 09:32:04 UTC 2026","passed","Tue Feb 10 09:32:04 UTC 2026","TestWarehouseClassification","test_warehouse_handling","",""
"Test: NO_EARLY_DELIVERY mode when promise > desired_date (late, not adjusted).","1","test_no_early_delivery_promise_later","tests.unit","Tue Feb 10 09:31:56 UTC 2026","passed","Tue Feb 10 09:31:56 UTC 2026","TestDesiredDateHandling","test_desired_date","",""
"Test: Options (split_shipment, expedite_po) generated when promise misses desired_date.","1","test_options_generated_when_late","tests.unit","Tue Feb 10 09:31:56 UTC 2026","passed","Tue Feb 10 09:31:56 UTC 2026","TestDesiredDateHandling","test_desired_date","",""
"Test that test credentials are configured.","0","test_settings_test_credentials_available","tests.unit","Tue Feb 10 09:31:56 UTC 2026","passed","Tue Feb 10 09:31:56 UTC 2026","TestSettingsConfiguration","test_config","",""
"Test that settings loads with default values.","1","test_settings_loads_defaults","tests.unit","Tue Feb 10 09:31:56 UTC 2026","passed","Tue Feb 10 09:31:56 UTC 2026","TestSettingsConfiguration","test_config","",""
"Reasons should mention weekend adjustment.","0","test_weekend_adjustment_reason_included","tests.unit","Tue Feb 10 09:31:56 UTC 2026","passed","Tue Feb 10 09:31:56 UTC 2026","TestPromiseCalculationWithCalendar","test_calendar_workweek","",""
"Test applying promise with both comment and custom field.","1","test_apply_promise_with_both_actions","tests.unit","Tue Feb 10 09:31:56 UTC 2026","passed","Tue Feb 10 09:31:56 UTC 2026","TestApplyServiceSuccessPath","test_apply_service","",""
"Test custom warehouse classifications and finished goods/scrap.","0","test_custom_classifications","tests.unit","Tue Feb 10 09:32:04 UTC 2026","passed","Tue Feb 10 09:32:04 UTC 2026","TestWarehouseClassification","test_warehouse_handling","",""
"Expand list with no groups returns same list.","0","test_expand_warehouse_list_no_groups","tests.unit","Tue Feb 10 09:32:04 UTC 2026","passed","Tue Feb 10 09:32:04 UTC 2026","TestWarehouseGroupExpansion","test_warehouse_handling","",""
"Test: All from incoming PO → MEDIUM confidence.","1","test_promise_no_stock","tests.unit","Tue Feb 10 09:32:03 UTC 2026","passed","Tue Feb 10 09:32:03 UTC 2026","TestPromiseService","test_promise_service","",""
"Test: IN_TRANSIT warehouse stock is ignored.","1","test_warehouse_in_transit_ignored","tests.unit","Tue Feb 10 09:32:03 UTC 2026","passed","Tue Feb 10 09:32:03 UTC 2026","TestPromiseService","test_promise_service","",""
"Test that /otp/sales-orders/{sales_order_id} endpoint is registered.","3","test_sales_order_details_endpoint_registered","tests.unit","Tue Feb 10 09:32:03 UTC 2026","passed","Tue Feb 10 09:32:03 UTC 2026","TestEndpointRegistration","test_main","",""
"Test warehouse-related settings.","0","test_settings_warehouse_configuration","tests.unit","Tue Feb 10 09:31:56 UTC 2026","passed","Tue Feb 10 09:31:56 UTC 2026","TestSettingsConfiguration","test_config","",""
"Test get_available_stock when no warehouse is specified.","1","test_get_available_stock_no_warehouse_parameter","tests.unit","Tue Feb 10 09:32:04 UTC 2026","passed","Tue Feb 10 09:32:04 UTC 2026","TestStockServiceGetAvailableStock","test_stock_service","",""
"Test that settings instance is globally accessible.","0","test_settings_is_singleton_like","tests.unit","Tue Feb 10 09:31:56 UTC 2026","passed","Tue Feb 10 09:31:56 UTC 2026","TestGlobalSettingsInstance","test_config","",""
"Promise date must never land on Friday or Saturday.","0","test_promise_date_never_weekend","tests.unit","Tue Feb 10 09:31:56 UTC 2026","passed","Tue Feb 10 09:31:56 UTC 2026","TestPromiseCalculationWithCalendar","test_calendar_workweek","",""
"Test procurement suggestion handles ERPNext errors.","10","test_procurement_suggestion_erpnext_error","tests.unit","Tue Feb 10 09:31:56 UTC 2026","passed","Tue Feb 10 09:31:56 UTC 2026","TestProcurementSuggestionErrorHandling","test_additional_coverage","",""
"Test applying promise with different confidence levels.","3","test_apply_promise_with_all_confidence_levels","tests.unit","Tue Feb 10 09:31:56 UTC 2026","passed","Tue Feb 10 09:31:56 UTC 2026","TestApplyServiceEdgeCases","test_apply_service","",""
"Test that supply is filtered by after_date parameter.","1","test_filters_supply_by_after_date","tests.unit","Tue Feb 10 09:32:04 UTC 2026","passed","Tue Feb 10 09:32:04 UTC 2026","TestStockServiceEdgeCases","test_stock_service","",""
"Test: PO expected date falls on weekend → adjusted to next working day.","1","test_po_falls_on_weekend_adjusted","tests.unit","Tue Feb 10 09:32:03 UTC 2026","passed","Tue Feb 10 09:32:03 UTC 2026","TestPromiseService","test_promise_service","",""
"Test get_sales_order_list with various parameter combinations.","24","test_get_sales_order_list_with_parameters[None-Draft-None-None-None-10-0]","tests.unit","Tue Feb 10 09:32:00 UTC 2026","passed","Tue Feb 10 09:32:00 UTC 2026","TestERPNextClientSalesOrderListParameters","test_erpnext_client","",""
"Test incoming supply with no POs.","1","test_get_incoming_supply_empty","tests.unit","Tue Feb 10 09:32:04 UTC 2026","passed","Tue Feb 10 09:32:04 UTC 2026","TestStockServiceGetIncomingSupply","test_stock_service","",""
"Test get_sales_order_list with various parameter combinations.","26","test_get_sales_order_list_with_parameters[CUST-001-None-None-None-None-10-0]","tests.unit","Tue Feb 10 09:32:00 UTC 2026","passed","Tue Feb 10 09:32:00 UTC 2026","TestERPNextClientSalesOrderListParameters","test_erpnext_client","",""
"Test that close method doesn't close the shared global client.","21","test_close_method","tests.unit","Tue Feb 10 09:31:56 UTC 2026","passed","Tue Feb 10 09:31:57 UTC 2026","TestERPNextClientContextManager","test_erpnext_client","",""
"Test that deployment environment can be configured.","0","test_settings_deployment_environments","tests.unit","Tue Feb 10 09:31:56 UTC 2026","passed","Tue Feb 10 09:31:56 UTC 2026","TestSettingsConfiguration","test_config","",""
"Test: Insufficient supply → LOW confidence, has shortage.","1","test_promise_shortage","tests.unit","Tue Feb 10 09:32:03 UTC 2026","passed","Tue Feb 10 09:32:03 UTC 2026","TestPromiseService","test_promise_service","",""
"Test: Multiple items, promise is max of all item dates.","0","test_multi_item_promise","tests.unit","Tue Feb 10 09:32:03 UTC 2026","passed","Tue Feb 10 09:32:03 UTC 2026","TestPromiseService","test_promise_service","",""
"If today is Friday, base_date should be Sunday when no_weekends=True.","1","test_base_date_friday_moves_to_sunday","tests.unit","Tue Feb 10 09:31:56 UTC 2026","passed","Tue Feb 10 09:31:56 UTC 2026","TestPromiseCalculationWithCalendar","test_calendar_workweek","",""
"Test 422 validation error response format.","26","test_422_validation_error_format","tests.unit","Tue Feb 10 09:32:03 UTC 2026","passed","Tue Feb 10 09:32:03 UTC 2026","TestErrorResponseFormats","test_main","",""
"Test: Warehouse classified as NEEDS_PROCESSING adds extra day.","1","test_warehouse_needs_processing","tests.unit","Tue Feb 10 09:32:03 UTC 2026","passed","Tue Feb 10 09:32:03 UTC 2026","TestPromiseService","test_promise_service","",""
"Test that different warehouses make separate calls.","2","test_different_warehouses_separate_calls","tests.unit","Tue Feb 10 09:32:04 UTC 2026","passed","Tue Feb 10 09:32:04 UTC 2026","TestStockServiceMultipleWarehouseScenarios","test_stock_service","",""
"Test: When some items available and desired date missed → suggest split shipment.","1","test_split_shipment_option","tests.unit","Tue Feb 10 09:32:03 UTC 2026","passed","Tue Feb 10 09:32:03 UTC 2026","TestPromiseService","test_promise_service","",""
"Test that POs are sorted by expected_date when retrieved.","0","test_po_sorting_and_retrieval","tests.unit","Tue Feb 10 09:32:03 UTC 2026","passed","Tue Feb 10 09:32:03 UTC 2026","TestMockSupplyServiceParsing","test_mock_supply_service","",""
"Test: NO_EARLY_DELIVERY mode delays promise to match desired date.","1","test_no_early_delivery_mode","tests.unit","Tue Feb 10 09:32:03 UTC 2026","passed","Tue Feb 10 09:32:03 UTC 2026","TestPromiseService","test_promise_service","",""
"Processing lead time should count only working days.","1","test_processing_lead_time_counts_working_days","tests.unit","Tue Feb 10 09:31:56 UTC 2026","passed","Tue Feb 10 09:31:56 UTC 2026","TestPromiseCalculationWithCalendar","test_calendar_workweek","",""
"Test _parse_po_row with valid and invalid data.","1","test_parse_po_rows_edge_cases","tests.unit","Tue Feb 10 09:32:03 UTC 2026","passed","Tue Feb 10 09:32:03 UTC 2026","TestMockSupplyServiceParsing","test_mock_supply_service","",""
"Test that important string fields are not empty.","0","test_settings_string_fields_not_empty","tests.unit","Tue Feb 10 09:31:56 UTC 2026","passed","Tue Feb 10 09:31:56 UTC 2026","TestSettingsPydanticValidation","test_config","",""
"Test PO response transformation, empty list, and non-list response.","118","test_incoming_po_various_responses","tests.unit","Tue Feb 10 09:31:56 UTC 2026","passed","Tue Feb 10 09:31:56 UTC 2026","TestERPNextClientPurchaseOrders","test_erpnext_client","",""
"Test that available_qty is calculated as actual - reserved.","2","test_calculates_available_qty_correctly","tests.unit","Tue Feb 10 09:32:04 UTC 2026","passed","Tue Feb 10 09:32:04 UTC 2026","TestStockServiceDataTransformation","test_stock_service","",""
"Test that unsupported suggestion types return error.","0","test_create_unsupported_suggestion_type","tests.unit","Tue Feb 10 09:31:56 UTC 2026","passed","Tue Feb 10 09:31:56 UTC 2026","TestApplyServiceCreateMaterialRequest","test_apply_service","",""
"Test that CORS allows configured origins.","3030","test_cors_allows_origins","tests.unit","Tue Feb 10 09:32:00 UTC 2026","passed","Tue Feb 10 09:32:03 UTC 2026","TestCORSMiddleware","test_main","",""
"Test bin details with wrapped data, empty response, and direct list.","67","test_bin_details_various_responses","tests.unit","Tue Feb 10 09:31:56 UTC 2026","passed","Tue Feb 10 09:31:56 UTC 2026","TestERPNextClientBinDetails","test_erpnext_client","",""
"Test that get_controller uses StockService when mock is disabled.","1","test_get_controller_with_stock_service_fallback","tests.unit","Tue Feb 10 09:32:03 UTC 2026","passed","Tue Feb 10 09:32:03 UTC 2026","TestRoutesDependencyInjection","test_main","",""
"Test that redoc endpoint is available.","2","test_redoc_endpoint_available","tests.unit","Tue Feb 10 09:32:00 UTC 2026","passed","Tue Feb 10 09:32:00 UTC 2026","TestAppSetup","test_main","",""
"Expand list with group warehouse.","1","test_expand_warehouse_list_with_group","tests.unit","Tue Feb 10 09:32:04 UTC 2026","passed","Tue Feb 10 09:32:04 UTC 2026","TestWarehouseGroupExpansion","test_warehouse_handling","",""
"Test that OTP router endpoints are accessible.","3","test_otp_router_included","tests.unit","Tue Feb 10 09:32:03 UTC 2026","passed","Tue Feb 10 09:32:03 UTC 2026","TestRouterInclusion","test_main","",""
"Test that other errors are flagged with other_error.","1","test_get_incoming_supply_other_error_handled","tests.unit","Tue Feb 10 09:32:04 UTC 2026","passed","Tue Feb 10 09:32:04 UTC 2026","TestStockServiceGetIncomingSupply","test_stock_service","",""
"Test response unwrapping for data, message, and raw responses.","217","test_response_unwrapping","tests.unit","Tue Feb 10 09:31:56 UTC 2026","passed","Tue Feb 10 09:31:56 UTC 2026","TestERPNextClientHTTPErrors","test_erpnext_client","",""
"Test that ERPNext errors are handled.","2","test_get_available_stock_erpnext_error_handled","tests.unit","Tue Feb 10 09:32:04 UTC 2026","passed","Tue Feb 10 09:32:04 UTC 2026","TestStockServiceGetAvailableStock","test_stock_service","",""
"Test applying promise with comment only.","1","test_apply_promise_with_comment_only","tests.unit","Tue Feb 10 09:31:56 UTC 2026","passed","Tue Feb 10 09:31:56 UTC 2026","TestApplyServiceSuccessPath","test_apply_service","",""
"Test: LATEST_ACCEPTABLE mode when promise <= desired_date (on time).","1","test_latest_acceptable_on_time","tests.unit","Tue Feb 10 09:31:56 UTC 2026","passed","Tue Feb 10 09:31:56 UTC 2026","TestDesiredDateHandling","test_desired_date","",""
"Expand list without deduplication keeps duplicates.","0","test_expand_no_deduplicate","tests.unit","Tue Feb 10 09:32:04 UTC 2026","passed","Tue Feb 10 09:32:04 UTC 2026","TestWarehouseGroupExpansion","test_warehouse_handling","",""
"Test that endpoints return 422 for validation errors.","25","test_endpoint_validation_errors[/otp/promise-request_data0-422-None]","tests.unit","Tue Feb 10 09:32:03 UTC 2026","passed","Tue Feb 10 09:32:03 UTC 2026","TestRoutesErrorHandling","test_main","",""
"Stock in Work In Progress should be ignored.","0","test_wip_stock_ignored","tests.unit","Tue Feb 10 09:32:04 UTC 2026","passed","Tue Feb 10 09:32:04 UTC 2026","TestPromiseCalculationWithWarehouses","test_warehouse_handling","",""
"Test that /otp/sales-orders endpoint is registered.","3","test_sales_orders_endpoint_registered","tests.unit","Tue Feb 10 09:32:03 UTC 2026","passed","Tue Feb 10 09:32:03 UTC 2026","TestEndpointRegistration","test_main","",""
"Test next_working_day from various starting days.","0","test_next_working_day_scenarios","tests.unit","Tue Feb 10 09:31:56 UTC 2026","passed","Tue Feb 10 09:31:56 UTC 2026","TestCalendarUtilities","test_calendar_workweek","",""
"Test empty warehouse name defaults to SELLABLE.","0","test_empty_warehouse_name","tests.unit","Tue Feb 10 09:32:04 UTC 2026","passed","Tue Feb 10 09:32:04 UTC 2026","TestWarehouseClassification","test_warehouse_handling","",""
"Test: Warehouse override has higher priority than rule-level override.","0","test_processing_lead_time_rule_override","tests.unit","Tue Feb 10 09:32:03 UTC 2026","passed","Tue Feb 10 09:32:03 UTC 2026","TestProcessingLeadTime","test_processing_lead_time","",""
"Test: STRICT_FAIL mode when promise > desired_date (raises ValueError).","1","test_strict_fail_late_raises_error","tests.unit","Tue Feb 10 09:31:56 UTC 2026","passed","Tue Feb 10 09:31:56 UTC 2026","TestDesiredDateHandling","test_desired_date","",""
"Test adding working days in various scenarios.","0","test_add_working_days_scenarios","tests.unit","Tue Feb 10 09:31:56 UTC 2026","passed","Tue Feb 10 09:31:56 UTC 2026","TestCalendarUtilities","test_calendar_workweek","",""
"Get children of group warehouse.","1","test_get_child_warehouses","tests.unit","Tue Feb 10 09:32:04 UTC 2026","passed","Tue Feb 10 09:32:04 UTC 2026","TestWarehouseGroupExpansion","test_warehouse_handling","",""
"PO arriving on Friday or Saturday should be adjusted to Sunday.","1","test_po_arrival_weekend_adjustment","tests.unit","Tue Feb 10 09:31:56 UTC 2026","passed","Tue Feb 10 09:31:56 UTC 2026","TestIncomingSupplyWeekendAdjustment","test_calendar_workweek","",""
"Test: no_weekends=False allows weekend delivery dates.","0","test_no_weekends_false","tests.unit","Tue Feb 10 09:32:03 UTC 2026","passed","Tue Feb 10 09:32:03 UTC 2026","TestPromiseService","test_promise_service","",""
"Test that OTPController.create_procurement_suggestion properly delegates to apply_service.","1","test_create_procurement_suggestion_controller_method","tests.unit","Tue Feb 10 09:32:03 UTC 2026","passed","Tue Feb 10 09:32:03 UTC 2026","TestOTPControllerIntegration","test_main","",""
"Test _parse_stock_row with valid and invalid data.","0","test_parse_stock_rows_edge_cases","tests.unit","Tue Feb 10 09:32:03 UTC 2026","passed","Tue Feb 10 09:32:03 UTC 2026","TestMockSupplyServiceParsing","test_mock_supply_service","",""
"Test desired date analysis fallback path.","1","test_desired_date_fallback_return","tests.unit","Tue Feb 10 09:32:04 UTC 2026","passed","Tue Feb 10 09:32:04 UTC 2026","TestPromiseServiceEdgeCases","test_promise_service","",""
"Test: Weekend rules applied after processing lead time.","0","test_processing_lead_time_with_weekends","tests.unit","Tue Feb 10 09:32:03 UTC 2026","passed","Tue Feb 10 09:32:03 UTC 2026","TestProcessingLeadTime","test_processing_lead_time","",""
"Test that endpoints return 422 for validation errors.","25","test_endpoint_validation_errors[/otp/apply-request_data1-422-None]","tests.unit","Tue Feb 10 09:32:03 UTC 2026","passed","Tue Feb 10 09:32:03 UTC 2026","TestRoutesErrorHandling","test_main","",""
"Test applying promise with custom comment text.","1","test_apply_promise_with_custom_comment_text","tests.unit","Tue Feb 10 09:31:56 UTC 2026","passed","Tue Feb 10 09:31:56 UTC 2026","TestApplyServiceSuccessPath","test_apply_service","",""
"Test: Item-specific processing lead time overrides warehouse override.","0","test_processing_lead_time_item_override","tests.unit","Tue Feb 10 09:32:03 UTC 2026","passed","Tue Feb 10 09:32:03 UTC 2026","TestProcessingLeadTime","test_processing_lead_time","",""
"Test: All items available in stock → HIGH confidence, immediate promise.","0","test_promise_all_from_stock","tests.unit","Tue Feb 10 09:32:03 UTC 2026","passed","Tue Feb 10 09:32:03 UTC 2026","TestPromiseService","test_promise_service","",""
"Test that comment failure doesn't stop other actions.","2","test_comment_failure_continues_with_warning","tests.unit","Tue Feb 10 09:31:56 UTC 2026","passed","Tue Feb 10 09:31:56 UTC 2026","TestApplyServiceErrorHandling","test_apply_service","",""
"Test successful incoming supply retrieval.","1","test_get_incoming_supply_success","tests.unit","Tue Feb 10 09:32:04 UTC 2026","passed","Tue Feb 10 09:32:04 UTC 2026","TestStockServiceGetIncomingSupply","test_stock_service","",""
"Stock in Stores should be available immediately.","1","test_sellable_warehouse_available_immediately","tests.unit","Tue Feb 10 09:32:04 UTC 2026","passed","Tue Feb 10 09:32:04 UTC 2026","TestPromiseCalculationWithWarehouses","test_warehouse_handling","",""
"Test that confidence field update failure is silently ignored.","1","test_confidence_field_failure_ignored","tests.unit","Tue Feb 10 09:31:56 UTC 2026","passed","Tue Feb 10 09:31:56 UTC 2026","TestApplyServiceErrorHandling","test_apply_service","",""
"Test custom warehouse hierarchy.","0","test_custom_hierarchy","tests.unit","Tue Feb 10 09:32:04 UTC 2026","passed","Tue Feb 10 09:32:04 UTC 2026","TestWarehouseClassification","test_warehouse_handling","",""
"Test that custom field failure is handled gracefully.","2","test_custom_field_failure_handled_gracefully","tests.unit","Tue Feb 10 09:31:56 UTC 2026","passed","Tue Feb 10 09:31:56 UTC 2026","TestApplyServiceErrorHandling","test_apply_service","",""
"Test health check returns degraded when ERPNext is disconnected.","3","test_health_check_degraded_when_erpnext_disconnected","tests.unit","Tue Feb 10 09:32:00 UTC 2026","passed","Tue Feb 10 09:32:00 UTC 2026","TestHealthCheckEndpoint","test_main","",""
"Test that httpx.ReadTimeout is properly retried and raises RetryError.","3023","test_timeout_exception_handling","tests.unit","Tue Feb 10 09:31:57 UTC 2026","passed","Tue Feb 10 09:32:00 UTC 2026","TestERPNextClientTimeoutException","test_erpnext_client","",""
"Expand list and remove duplicates.","0","test_expand_warehouse_list_deduplicate","tests.unit","Tue Feb 10 09:32:04 UTC 2026","passed","Tue Feb 10 09:32:04 UTC 2026","TestWarehouseGroupExpansion","test_warehouse_handling","",""
"Test 404 error response format.","3","test_404_not_found_format","tests.unit","Tue Feb 10 09:32:03 UTC 2026","passed","Tue Feb 10 09:32:03 UTC 2026","TestErrorResponseFormats","test_main","",""
"Test that OpenAPI schema is available.","125","test_openapi_schema_available","tests.unit","Tue Feb 10 09:32:00 UTC 2026","passed","Tue Feb 10 09:32:00 UTC 2026","TestAppSetup","test_main","",""
"Test: LATEST_ACCEPTABLE mode when promise > desired_date (late).","1","test_latest_acceptable_late","tests.unit","Tue Feb 10 09:31:56 UTC 2026","passed","Tue Feb 10 09:31:56 UTC 2026","TestDesiredDateHandling","test_desired_date","",""
"Test get_sales_order_list with various parameter combinations.","23","test_get_sales_order_list_with_parameters[CUST-001-Draft-2024-01-01-2024-02-01-SO--100-50]","tests.unit","Tue Feb 10 09:32:00 UTC 2026","passed","Tue Feb 10 09:32:00 UTC 2026","TestERPNextClientSalesOrderListParameters","test_erpnext_client","",""
"Cutoff on Thursday should add 1 working day (skip to Sunday).","0","test_cutoff_on_thursday_adds_working_day","tests.unit","Tue Feb 10 09:31:56 UTC 2026","passed","Tue Feb 10 09:31:56 UTC 2026","TestCutoffRuleWithCalendar","test_calendar_workweek","",""
"Test get_sales_order_list with various parameter combinations.","23","test_get_sales_order_list_with_parameters[None-None-2024-01-01-None-None-10-0]","tests.unit","Tue Feb 10 09:32:00 UTC 2026","passed","Tue Feb 10 09:32:00 UTC 2026","TestERPNextClientSalesOrderListParameters","test_erpnext_client","",""
"Test _parse_po_row_from_row with enriched and standard columns.","1","test_parse_po_row_from_row_all_cases","tests.unit","Tue Feb 10 09:32:03 UTC 2026","passed","Tue Feb 10 09:32:03 UTC 2026","TestMockSupplyServiceParsing","test_mock_supply_service","",""
"Test that ERPNext API credentials exist.","1","test_settings_api_key_required","tests.unit","Tue Feb 10 09:31:56 UTC 2026","passed","Tue Feb 10 09:31:56 UTC 2026","TestSettingsConfiguration","test_config","",""
"Test get_stock_balance with and without warehouse parameter.","47","test_get_stock_balance_with_and_without_warehouse","tests.unit","Tue Feb 10 09:31:56 UTC 2026","passed","Tue Feb 10 09:31:56 UTC 2026","TestERPNextClientStockBalance","test_erpnext_client","",""
"Test that shutdown event handler is configured.","1","test_shutdown_event_configured","tests.unit","Tue Feb 10 09:32:03 UTC 2026","passed","Tue Feb 10 09:32:03 UTC 2026","TestStartupShutdownEvents","test_main","",""
"Test availability reasons for all warehouse types.","1","test_warehouse_availability_reasons","tests.unit","Tue Feb 10 09:32:04 UTC 2026","passed","Tue Feb 10 09:32:04 UTC 2026","TestWarehouseAvailabilityReasons","test_warehouse_handling","",""
"Test that permission errors are flagged with access_error.","2","test_get_incoming_supply_permission_error_handled","tests.unit","Tue Feb 10 09:32:04 UTC 2026","passed","Tue Feb 10 09:32:04 UTC 2026","TestStockServiceGetIncomingSupply","test_stock_service","",""
"Test handling of very large quantities.","1","test_very_large_quantities","tests.unit","Tue Feb 10 09:32:04 UTC 2026","passed","Tue Feb 10 09:32:04 UTC 2026","TestStockServiceEdgeCases","test_stock_service","",""
"Test that CORS headers are present in responses.","2","test_cors_headers_present","tests.unit","Tue Feb 10 09:32:00 UTC 2026","passed","Tue Feb 10 09:32:00 UTC 2026","TestCORSMiddleware","test_main","",""
"Test that context manager properly enters and exits.","21","test_context_manager_enter_exit","tests.unit","Tue Feb 10 09:31:56 UTC 2026","passed","Tue Feb 10 09:31:56 UTC 2026","TestERPNextClientContextManager","test_erpnext_client","",""
"Test that None rules defaults to PromiseRules().","0","test_calculate_promise_with_none_rules","tests.unit","Tue Feb 10 09:32:03 UTC 2026","passed","Tue Feb 10 09:32:03 UTC 2026","TestPromiseServiceEdgeCases","test_promise_service","",""
"Test material request creation with priority.","1","test_create_material_request_with_priority","tests.unit","Tue Feb 10 09:31:56 UTC 2026","passed","Tue Feb 10 09:31:56 UTC 2026","TestApplyServiceCreateMaterialRequest","test_apply_service","",""
"Test that health check version matches app version.","7","test_health_check_version_consistency","tests.unit","Tue Feb 10 09:32:03 UTC 2026","passed","Tue Feb 10 09:32:03 UTC 2026","TestHealthCheckResponseModel","test_main","",""
"Test case-insensitive lookup and PO sorting.","1","test_case_insensitive_and_sorting","tests.unit","Tue Feb 10 09:32:03 UTC 2026","passed","Tue Feb 10 09:32:03 UTC 2026","TestMockSupplyService","test_mock_supply_service","",""
"Stock in Goods In Transit should NOT be available immediately.","1","test_in_transit_stock_not_available_now","tests.unit","Tue Feb 10 09:32:04 UTC 2026","passed","Tue Feb 10 09:32:04 UTC 2026","TestPromiseCalculationWithWarehouses","test_warehouse_handling","",""
"Test error when sales order doesn't exist.","0","test_sales_order_not_found_returns_error","tests.unit","Tue Feb 10 09:31:56 UTC 2026","passed","Tue Feb 10 09:31:56 UTC 2026","TestApplyServiceErrorHandling","test_apply_service","",""
"Test that startup event is triggered (indirectly).","0","test_startup_event_logs_info","tests.unit","Tue Feb 10 09:32:03 UTC 2026","passed","Tue Feb 10 09:32:03 UTC 2026","TestStartupShutdownEvents","test_main","",""
"Test that zero stock is handled correctly.","1","test_zero_stock_handled","tests.unit","Tue Feb 10 09:32:04 UTC 2026","passed","Tue Feb 10 09:32:04 UTC 2026","TestStockServiceEdgeCases","test_stock_service","",""
"Test sales order list with wrapped, direct, and non-list responses.","67","test_sales_order_list_various_responses","tests.unit","Tue Feb 10 09:31:56 UTC 2026","passed","Tue Feb 10 09:31:56 UTC 2026","TestERPNextClientSalesOrderList","test_erpnext_client","",""
"Test graceful handling when data file is missing.","0","test_missing_data_file","tests.unit","Tue Feb 10 09:32:03 UTC 2026","passed","Tue Feb 10 09:32:03 UTC 2026","TestMockSupplyService","test_mock_supply_service","",""
"Test: Desired date set but promise is late → suggestions offered.","1","test_desired_date_late","tests.unit","Tue Feb 10 09:32:03 UTC 2026","passed","Tue Feb 10 09:32:03 UTC 2026","TestPromiseService","test_promise_service","",""
"When no_weekends=False, Friday and Saturday should be allowed.","0","test_no_weekends_false_allows_friday_saturday","tests.unit","Tue Feb 10 09:31:56 UTC 2026","passed","Tue Feb 10 09:31:56 UTC 2026","TestPromiseCalculationWithCalendar","test_calendar_workweek","",""
"Test: Item override has highest priority in hierarchy.","1","test_processing_lead_time_hierarchy_item_beats_all","tests.unit","Tue Feb 10 09:32:03 UTC 2026","passed","Tue Feb 10 09:32:03 UTC 2026","TestProcessingLeadTime","test_processing_lead_time","",""
"Test updating a custom field on Sales Order.","23","test_update_custom_field","tests.unit","Tue Feb 10 09:31:57 UTC 2026","passed","Tue Feb 10 09:31:57 UTC 2026","TestERPNextClientUpdateCustomField","test_erpnext_client","",""
"Test that app has correct title and version.","0","test_app_title_and_version","tests.unit","Tue Feb 10 09:32:00 UTC 2026","passed","Tue Feb 10 09:32:00 UTC 2026","TestAppSetup","test_main","",""
"Test get_sales_order_list with various parameter combinations.","22","test_get_sales_order_list_with_parameters[None-None-None-None-SO--10-0]","tests.unit","Tue Feb 10 09:32:00 UTC 2026","passed","Tue Feb 10 09:32:00 UTC 2026","TestERPNextClientSalesOrderListParameters","test_erpnext_client","",""
"Test handling of non-standard response formats.","45","test_response_edge_cases","tests.unit","Tue Feb 10 09:32:00 UTC 2026","passed","Tue Feb 10 09:32:00 UTC 2026","TestERPNextClientResponseEdgeCases","test_erpnext_client","",""
"Test: Promise date adjusted to skip weekends (Fri-Sat).","1","test_skip_weekends","tests.unit","Tue Feb 10 09:32:03 UTC 2026","passed","Tue Feb 10 09:32:03 UTC 2026","TestPromiseService","test_promise_service","",""
"Test that /otp/apply endpoint is registered.","3","test_apply_endpoint_registered","tests.unit","Tue Feb 10 09:32:03 UTC 2026","passed","Tue Feb 10 09:32:03 UTC 2026","TestEndpointRegistration","test_main","",""
"Test that POs without schedule_date are skipped.","1","test_skips_pos_without_schedule_date","tests.unit","Tue Feb 10 09:32:04 UTC 2026","passed","Tue Feb 10 09:32:04 UTC 2026","TestStockServiceEdgeCases","test_stock_service","",""
"Test classification of different warehouse types.","0","test_warehouse_type_classifications","tests.unit","Tue Feb 10 09:32:04 UTC 2026","passed","Tue Feb 10 09:32:04 UTC 2026","TestWarehouseClassification","test_warehouse_handling","",""
"Test that ERPNext URL is properly constructed.","0","test_erpnext_url_construction","tests.unit","Tue Feb 10 09:31:56 UTC 2026","passed","Tue Feb 10 09:31:56 UTC 2026","TestApplyServiceEdgeCases","test_apply_service","",""
"Test loading CSV and various queries.","1","test_with_existing_csv_and_queries","tests.unit","Tue Feb 10 09:32:03 UTC 2026","passed","Tue Feb 10 09:32:03 UTC 2026","TestMockSupplyService","test_mock_supply_service","",""
"Test that settings values are consistent.","0","test_settings_immutable_behavior","tests.unit","Tue Feb 10 09:31:56 UTC 2026","passed","Tue Feb 10 09:31:56 UTC 2026","TestGlobalSettingsInstance","test_config","",""
"Test ERPNext connection configuration exists.","0","test_settings_erpnext_connection_config","tests.unit","Tue Feb 10 09:31:56 UTC 2026","passed","Tue Feb 10 09:31:56 UTC 2026","TestSettingsConfiguration","test_config","",""
"Test that health check response has all required fields.","7","test_health_check_response_has_all_fields","tests.unit","Tue Feb 10 09:32:03 UTC 2026","passed","Tue Feb 10 09:32:03 UTC 2026","TestHealthCheckResponseModel","test_main","",""
"Test OTP health endpoint returns mock supply message.","4","test_otp_health_check_with_mock_supply","tests.unit","Tue Feb 10 09:31:56 UTC 2026","passed","Tue Feb 10 09:31:56 UTC 2026","TestOTPHealthCheckMockSupply","test_additional_coverage","",""
"Test circuit breaker transitions to half-open and recovers.","0","test_circuit_breaker_half_open_recovery","tests.unit","Tue Feb 10 09:31:56 UTC 2026","passed","Tue Feb 10 09:31:56 UTC 2026","TestCircuitBreakerHalfOpen","test_additional_coverage","",""
"Detect group warehouses correctly.","0","test_is_group_warehouse","tests.unit","Tue Feb 10 09:32:04 UTC 2026","passed","Tue Feb 10 09:32:04 UTC 2026","TestWarehouseGroupExpansion","test_warehouse_handling","",""
"Test: PO data access denied due to permissions → handles gracefully.","0","test_po_access_permission_denied","tests.unit","Tue Feb 10 09:32:03 UTC 2026","passed","Tue Feb 10 09:32:03 UTC 2026","TestPromiseService","test_promise_service","",""
"Test that unexpected exceptions are propagated (or handled if not wrapped).","2","test_get_available_stock_exception_handled","tests.unit","Tue Feb 10 09:32:04 UTC 2026","passed","Tue Feb 10 09:32:04 UTC 2026","TestStockServiceGetAvailableStock","test_stock_service","",""
"Test that negative reserved qty doesn't cause issues.","1","test_negative_reserved_qty_handled","tests.unit","Tue Feb 10 09:32:04 UTC 2026","passed","Tue Feb 10 09:32:04 UTC 2026","TestStockServiceEdgeCases","test_stock_service","",""
"Reasons should explain warehouse-based decisions including GROUP warehouse handling.","0","test_reasons_explain_warehouse_decisions","tests.unit","Tue Feb 10 09:32:04 UTC 2026","passed","Tue Feb 10 09:32:04 UTC 2026","TestPromiseCalculationWithWarehouses","test_warehouse_handling","",""
"Promise date should never land on Friday or Saturday.","0","test_promise_date_never_weekend","tests.unit","Tue Feb 10 09:32:04 UTC 2026","passed","Tue Feb 10 09:32:04 UTC 2026","TestPromiseCalculationWithWarehouses","test_warehouse_handling","",""
"Test 405 method not allowed response format.","4","test_405_method_not_allowed_format","tests.unit","Tue Feb 10 09:32:03 UTC 2026","passed","Tue Feb 10 09:32:03 UTC 2026","TestErrorResponseFormats","test_main","",""
"Test: NO_EARLY_DELIVERY mode when promise < desired_date (adjust to desired).","1","test_no_early_delivery_promise_earlier","tests.unit","Tue Feb 10 09:31:56 UTC 2026","passed","Tue Feb 10 09:31:56 UTC 2026","TestDesiredDateHandling","test_desired_date","",""
"Test adding a comment to a document.","23","test_add_comment_to_doc","tests.unit","Tue Feb 10 09:31:57 UTC 2026","passed","Tue Feb 10 09:31:57 UTC 2026","TestERPNextClientComments","test_erpnext_client","",""
"Test that get_controller uses MockSupplyService when enabled.","2","test_get_controller_with_mock_supply_enabled","tests.unit","Tue Feb 10 09:32:03 UTC 2026","passed","Tue Feb 10 09:32:03 UTC 2026","TestRoutesDependencyInjection","test_main","",""
"Test: Processing lead time applied to PO delivery dates.","0","test_processing_lead_time_with_po","tests.unit","Tue Feb 10 09:32:03 UTC 2026","passed","Tue Feb 10 09:32:03 UTC 2026","TestProcessingLeadTime","test_processing_lead_time","",""
"Test that demo_data router endpoints are accessible.","3","test_demo_data_router_included","tests.unit","Tue Feb 10 09:32:03 UTC 2026","passed","Tue Feb 10 09:32:03 UTC 2026","TestRouterInclusion","test_main","",""
"Test that endpoints return 422 for validation errors.","26","test_endpoint_validation_errors[/otp/procurement-suggest-request_data2-422-None]","tests.unit","Tue Feb 10 09:32:03 UTC 2026","passed","Tue Feb 10 09:32:03 UTC 2026","TestRoutesErrorHandling","test_main","",""
"Test: Warehouse-specific processing lead time overrides default.","1","test_processing_lead_time_warehouse_override","tests.unit","Tue Feb 10 09:32:03 UTC 2026","passed","Tue Feb 10 09:32:03 UTC 2026","TestProcessingLeadTime","test_processing_lead_time","",""
"Test: Partial from stock, rest from PO → MEDIUM confidence.","1","test_promise_partial_stock","tests.unit","Tue Feb 10 09:32:03 UTC 2026","passed","Tue Feb 10 09:32:03 UTC 2026","TestPromiseService","test_promise_service","",""
"Test health check returns healthy when ERPNext is connected.","8","test_health_check_success_when_erpnext_connected","tests.unit","Tue Feb 10 09:32:00 UTC 2026","passed","Tue Feb 10 09:32:00 UTC 2026","TestHealthCheckEndpoint","test_main","",""
"Test get_sales_order_list with various parameter combinations.","23","test_get_sales_order_list_with_parameters[None-None-None-2024-02-01-None-10-0]","tests.unit","Tue Feb 10 09:32:00 UTC 2026","passed","Tue Feb 10 09:32:00 UTC 2026","TestERPNextClientSalesOrderListParameters","test_erpnext_client","",""
"Test working day detection for Sunday-Thursday workweek.","0","test_is_working_day","tests.unit","Tue Feb 10 09:31:56 UTC 2026","passed","Tue Feb 10 09:31:56 UTC 2026","TestCalendarUtilities","test_calendar_workweek","",""
"Test: When no desired_date, on_time should be None.","1","test_no_desired_date_provided","tests.unit","Tue Feb 10 09:31:56 UTC 2026","passed","Tue Feb 10 09:31:56 UTC 2026","TestDesiredDateHandling","test_desired_date","",""
"Test health check handles exceptions gracefully.","4","test_health_check_handles_exception","tests.unit","Tue Feb 10 09:32:00 UTC 2026","passed","Tue Feb 10 09:32:00 UTC 2026","TestHealthCheckEndpoint","test_main","",""
"Test that port must be positive integer.","0","test_settings_port_positive_integer","tests.unit","Tue Feb 10 09:31:56 UTC 2026","passed","Tue Feb 10 09:31:56 UTC 2026","TestSettingsPydanticValidation","test_config","",""
"Test material request with single item.","2","test_material_request_with_single_item","tests.unit","Tue Feb 10 09:31:56 UTC 2026","passed","Tue Feb 10 09:31:56 UTC 2026","TestApplyServiceEdgeCases","test_apply_service","",""
"Test that docs endpoint is available.","3","test_docs_endpoint_available","tests.unit","Tue Feb 10 09:32:00 UTC 2026","passed","Tue Feb 10 09:32:00 UTC 2026","TestAppSetup","test_main","",""
"Test applying promise with custom field only.","1","test_apply_promise_with_custom_field_only","tests.unit","Tue Feb 10 09:31:56 UTC 2026","passed","Tue Feb 10 09:31:56 UTC 2026","TestApplyServiceSuccessPath","test_apply_service","",""
